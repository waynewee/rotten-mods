{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useRouter } from \"next/router\";\n// import authService from \"../services/authentication\";\nimport authUtils from \"../utils/authentication\";\nimport LoginModal from \"./LoginModal\";\nimport SignupModal from \"./SignupModal\";\nimport { reviewBlue } from \"../styles/colors\";\nimport CustomButton from \"./Button\";\nimport { Button, Menu, Dropdown } from \"antd\";\nimport \"../styles/antd.less\";\n\nconst ProfileButton = () => {\n  const {\n    0: loginModalVisible,\n    1: setLoginModalVisible\n  } = useState(false);\n  const {\n    0: signupModalVisible,\n    1: setSignupModalVisible\n  } = useState(false);\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn);\n  const user = useSelector(state => state.auth.user);\n  const router = useRouter();\n  useEffect(() => {\n    isLoggedIn ? setLoginModalVisible(false) : null;\n  });\n\n  const toggleLoginModal = () => {\n    setLoginModalVisible(!loginModalVisible);\n  };\n\n  const toggleSignupModal = () => {\n    setSignupModalVisible(!signupModalVisible);\n  };\n\n  const switchModals = () => {\n    setSignupModalVisible(!signupModalVisible);\n    setLoginModalVisible(!loginModalVisible);\n  };\n\n  const navigateToProfilePage = () => {\n    router.push({\n      pathname: \"/profile\"\n    });\n  };\n\n  const menu = __jsx(Menu, null, __jsx(Menu.Item, {\n    key: \"1\"\n  }, __jsx(Button, {\n    type: \"text\",\n    onClick: navigateToProfilePage\n  }, \"Profile\")), __jsx(Menu.Item, {\n    key: \"2\"\n  }, __jsx(Button, {\n    type: \"text\",\n    onClick: authUtils.logOut\n  }, \"Log Out\")));\n\n  return __jsx(React.Fragment, null, isLoggedIn ? __jsx(React.Fragment, null, __jsx(Dropdown, {\n    overlay: menu,\n    placement: \"bottomCenter\"\n  }, __jsx(Button, {\n    style: styles.container\n  }, user.fullName))) : __jsx(CustomButton, {\n    style: styles.loginButton,\n    onClick: toggleLoginModal\n  }, \"Log In\"), loginModalVisible && !isLoggedIn ? __jsx(LoginModal, {\n    toggles: {\n      toggleLoginModal,\n      switchModals\n    }\n  }) : null, signupModalVisible ? __jsx(SignupModal, {\n    toggles: {\n      toggleSignupModal,\n      switchModals\n    }\n  }) : null);\n};\n\nconst styles = {\n  container: {\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: \"0px 10px\",\n    padding: 20,\n    backgroundColor: reviewBlue,\n    color: \"#fff\",\n    borderRadius: 8\n  },\n  userName: {\n    alignItems: \"flex-end\",\n    paddingLeft: \"10px\",\n    margin: 0,\n    fontSize: 15\n  },\n  loginButton: {\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: \"0px 10px\",\n    padding: 10,\n    backgroundColor: reviewBlue,\n    color: \"#fff\",\n    borderRadius: 8\n  }\n};\nexport default ProfileButton;","map":null,"metadata":{},"sourceType":"module"}