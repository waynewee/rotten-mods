{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/ChesterSim/Desktop/NUS Computer Science/CS3219/cs3219-ay2021-s1-project-2020-s1-g01/frontend/components/FormModalItem.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from \"react\";\nimport { Input, InputNumber, Rate, Select, AutoComplete, Tag } from \"antd\";\nvar TextArea = Input.TextArea;\nvar Option = Select.Option;\n\nvar FormModalItem = function FormModalItem(_ref) {\n  _s();\n\n  var _ref$type = _ref.type,\n      type = _ref$type === void 0 ? \"input\" : _ref$type,\n      label = _ref.label,\n      value = _ref.value,\n      setValue = _ref.setValue,\n      options = _ref.options,\n      searchTerm = _ref.searchTerm,\n      setSearchTerm = _ref.setSearchTerm;\n\n  var _useState = useState(0),\n      firstIsChecked = _useState[0],\n      setFirstIsChecked = _useState[1];\n\n  var _useState2 = useState(0),\n      secondIsChecked = _useState2[0],\n      setSecondIsChecked = _useState2[1];\n\n  var _useState3 = useState(options !== null && options !== void 0 ? options : []),\n      searchOptions = _useState3[0],\n      setSearchOptions = _useState3[1];\n\n  useEffect(function () {\n    setSearchOptions(options);\n  }, [options]);\n\n  var toggleCheckbox = function toggleCheckbox(index) {\n    return function (event) {\n      var newValue = parseInt(event.target.value) === 0 ? 1 : 0;\n      console.log(newValue, index);\n      var isChecked = newValue === 1;\n\n      if (index === 1) {\n        setFirstIsChecked(newValue);\n        setValue([isChecked, value[1]]);\n      } else {\n        setSecondIsChecked(newValue);\n        setValue([value[0], isChecked]);\n      }\n    };\n  };\n\n  var renderInput = function renderInput() {\n    return __jsx(Input, {\n      style: styles.input,\n      value: value,\n      onChange: function onChange(e) {\n        return setValue(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }\n    });\n  };\n\n  var renderTextArea = function renderTextArea() {\n    return __jsx(TextArea, {\n      style: styles.input,\n      rows: 4,\n      autoSize: {\n        minRows: 4,\n        maxRows: 4\n      },\n      value: value,\n      onChange: function onChange(e) {\n        return setValue(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }\n    });\n  };\n\n  var renderText = function renderText() {\n    return __jsx(\"span\", {\n      style: styles.text,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 28\n      }\n    }, value);\n  };\n\n  var renderRate = function renderRate() {\n    return __jsx(Rate, {\n      defaultValue: value,\n      onChange: setValue,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }\n    });\n  };\n\n  var renderDifficulty = function renderDifficulty() {\n    return __jsx(Rate, {\n      defaultValue: value,\n      style: styles.rateObjects,\n      onChange: setValue,\n      character: function character(_ref2) {\n        var index = _ref2.index;\n        return __jsx(\"span\", {\n          style: {\n            marginRight: 9\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 16\n          }\n        }, index + 1);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }\n    });\n  };\n\n  var renderNumber = function renderNumber() {\n    return __jsx(InputNumber, {\n      style: styles.inputNumber,\n      value: value,\n      onChange: function onChange(e) {\n        return setValue(e);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }\n    });\n  };\n\n  var renderYear = function renderYear() {\n    return __jsx(Select, {\n      style: styles.inputNumber,\n      onChange: setValue,\n      defaultValue: value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }\n    }, __jsx(Option, {\n      value: 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, \"1\"), __jsx(Option, {\n      value: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }\n    }, \"2\"), __jsx(Option, {\n      value: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }\n    }, \"3\"), __jsx(Option, {\n      value: 4,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }\n    }, \"4\"));\n  };\n\n  var renderSemester = function renderSemester() {\n    return __jsx(Select, {\n      style: styles.inputNumber,\n      onChange: setValue,\n      defaultValue: value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 5\n      }\n    }, __jsx(Option, {\n      value: 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }\n    }, \"1\"), __jsx(Option, {\n      value: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, \"2\"));\n  };\n\n  var renderSemesters = function renderSemesters() {\n    return __jsx(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        height: 34\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 5\n      }\n    }, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    }, __jsx(\"input\", {\n      id: \"1\",\n      type: \"checkbox\",\n      value: firstIsChecked,\n      onChange: toggleCheckbox(1),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }\n    }), __jsx(\"label\", {\n      style: styles.inputCheckboxLabel,\n      htmlFor: \"1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }\n    }, \"1\")), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 7\n      }\n    }, __jsx(\"input\", {\n      id: \"2\",\n      type: \"checkbox\",\n      value: secondIsChecked,\n      onChange: toggleCheckbox(2),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }\n    }), __jsx(\"label\", {\n      style: styles.inputCheckboxLabel,\n      htmlFor: \"2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }\n    }, \"2\")));\n  };\n\n  var renderAnnualYear = function renderAnnualYear() {\n    var today = new Date();\n    var currentYear = today.getFullYear();\n    var currentMonth = today.getMonth();\n    var yearShortform = currentYear % 2000; // eg. 2020 => 20\n\n    var currentSemester = currentMonth < 6 ? 2 : 1;\n    var currentAYSecondYear = currentSemester === 1 ? yearShortform + 1 : yearShortform; // if current semester is 2, then the second year of the AY is the current year\n\n    var yearMinusOne = currentAYSecondYear - 1;\n    var yearMinusTwo = currentAYSecondYear - 2;\n    var yearMinusThree = currentAYSecondYear - 3;\n    var yearMinusFour = currentAYSecondYear - 4;\n    return __jsx(Select, {\n      style: styles.inputNumber,\n      onChange: setValue,\n      defaultValue: value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 7\n      }\n    }, __jsx(Option, {\n      value: \"\".concat(yearMinusOne, \"/\").concat(currentAYSecondYear),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }\n    }, \"AY\", yearMinusOne, \"/\", currentAYSecondYear), __jsx(Option, {\n      value: \"\".concat(yearMinusTwo, \"/\").concat(yearMinusOne),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }\n    }, \"AY\", yearMinusTwo, \"/\", yearMinusOne), __jsx(Option, {\n      value: \"\".concat(yearMinusThree, \"/\").concat(yearMinusTwo),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }, \"AY\", yearMinusThree, \"/\", yearMinusTwo), __jsx(Option, {\n      value: \"\".concat(yearMinusFour, \"/\").concat(yearMinusThree),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }\n    }, \"AY\", yearMinusFour, \"/\", yearMinusThree));\n  };\n\n  var renderUniversity = function renderUniversity() {\n    return __jsx(Select, {\n      style: styles.inputNumber,\n      onChange: setValue,\n      defaultValue: value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 5\n      }\n    }, __jsx(Option, {\n      value: \"NUS\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 7\n      }\n    }, \"NUS\"), __jsx(Option, {\n      value: \"NTU\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 7\n      }\n    }, \"NTU\"), __jsx(Option, {\n      value: \"SMU\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 7\n      }\n    }, \"SMU\"));\n  };\n\n  var renderAutoComplete = function renderAutoComplete() {\n    return __jsx(AutoComplete, {\n      style: styles.input,\n      options: searchOptions,\n      onSelect: setValue,\n      onSearch: function onSearch(searchText) {\n        return setSearchOptions(options.filter(function (item) {\n          return item.value.includes(searchText);\n        }));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 5\n      }\n    });\n  };\n\n  var renderPrereq = function renderPrereq() {\n    var removeCode = function removeCode(removedMod) {\n      var filteredCodes = value.filter(function (mod) {\n        return mod.id !== removedMod.id;\n      });\n      setValue(filteredCodes);\n    };\n\n    var renderTags = function renderTags() {\n      console.log(value);\n      return value.map(function (mod) {\n        return __jsx(Tag, {\n          closable: true,\n          onClose: function onClose() {\n            return removeCode(mod);\n          },\n          key: mod.id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 9\n          }\n        }, mod.value);\n      });\n    };\n\n    var addModule = function addModule(code) {\n      var modArr = searchOptions.filter(function (mod) {\n        return mod.value === code;\n      });\n      setValue(value.concat(modArr));\n      setSearchTerm(\"\");\n    };\n\n    var onChange = function onChange(newSearchTerm) {\n      return setSearchTerm(newSearchTerm);\n    };\n\n    return __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 7\n      }\n    }, __jsx(AutoComplete, {\n      style: styles.input,\n      onSelect: addModule,\n      options: searchOptions,\n      value: searchTerm,\n      onChange: onChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }\n    }), __jsx(\"div\", {\n      style: {\n        marginTop: 10,\n        maxWidth: 390\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }\n    }, renderTags()));\n  };\n\n  var renderInputType = {};\n\n  var renderInputTypes = function renderInputTypes() {\n    switch (type) {\n      case \"input\":\n        return renderInput();\n\n      case \"textarea\":\n        return renderTextArea();\n\n      case \"text\":\n        return renderText();\n\n      case \"rate\":\n        return renderRate();\n\n      case \"difficulty\":\n        return renderDifficulty();\n\n      case \"number\":\n        return renderNumber();\n\n      case \"year\":\n        return renderYear();\n\n      case \"semester\":\n        return renderSemester();\n\n      case \"semesters\":\n        return renderSemesters();\n\n      case \"annualYear\":\n        return renderAnnualYear();\n\n      case \"university\":\n        return renderUniversity();\n\n      case \"autocomplete\":\n        return renderAutoComplete();\n\n      case \"prereq\":\n        return renderPrereq();\n\n      default:\n        return renderInput();\n    }\n  };\n\n  return __jsx(\"div\", {\n    style: styles.labelContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 5\n    }\n  }, __jsx(\"label\", {\n    style: styles.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }\n  }, \"\".concat(label, \":\")), renderInputType());\n};\n\n_s(FormModalItem, \"8gH5+BdI0VwAnZg4C/5AjRCrIq0=\");\n\n_c = FormModalItem;\nvar styles = {\n  labelContainer: {\n    display: \"flex\",\n    marginBottom: 20,\n    alignItems: \"flex-start\",\n    justifyContent: \"flex-start\"\n  },\n  label: {\n    width: 150,\n    marginTop: 5\n  },\n  input: {\n    width: 390,\n    maxWidth: 390\n  },\n  text: {\n    marginTop: 5\n  },\n  rateObjects: {// color: \"#000\",\n  },\n  inputNumber: {\n    width: 100\n  },\n  inputCheckboxLabel: {\n    margin: \"0px 20px 0px 10px\",\n    fontSize: 15\n  }\n};\nexport default FormModalItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormModalItem\");","map":{"version":3,"sources":["/Users/ChesterSim/Desktop/NUS Computer Science/CS3219/cs3219-ay2021-s1-project-2020-s1-g01/frontend/components/FormModalItem.tsx"],"names":["useState","useEffect","Input","InputNumber","Rate","Select","AutoComplete","Tag","TextArea","Option","FormModalItem","type","label","value","setValue","options","searchTerm","setSearchTerm","firstIsChecked","setFirstIsChecked","secondIsChecked","setSecondIsChecked","searchOptions","setSearchOptions","toggleCheckbox","index","event","newValue","parseInt","target","console","log","isChecked","renderInput","styles","input","e","renderTextArea","minRows","maxRows","renderText","text","renderRate","renderDifficulty","rateObjects","marginRight","renderNumber","inputNumber","renderYear","renderSemester","renderSemesters","display","alignItems","height","inputCheckboxLabel","renderAnnualYear","today","Date","currentYear","getFullYear","currentMonth","getMonth","yearShortform","currentSemester","currentAYSecondYear","yearMinusOne","yearMinusTwo","yearMinusThree","yearMinusFour","renderUniversity","renderAutoComplete","searchText","filter","item","includes","renderPrereq","removeCode","removedMod","filteredCodes","mod","id","renderTags","map","addModule","code","modArr","concat","onChange","newSearchTerm","marginTop","maxWidth","renderInputType","renderInputTypes","labelContainer","marginBottom","justifyContent","width","margin","fontSize"],"mappings":";;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAA8D,OAA9D;AAEA,SAASC,KAAT,EAAgBC,WAAhB,EAA6BC,IAA7B,EAAmCC,MAAnC,EAA2CC,YAA3C,EAAyDC,GAAzD,QAAoE,MAApE;IACQC,Q,GAAaN,K,CAAbM,Q;IACAC,M,GAAWJ,M,CAAXI,M;;AA+BR,IAAMC,aAA2C,GAAG,SAA9CA,aAA8C,OAQ9C;AAAA;;AAAA,uBAPJC,IAOI;AAAA,MAPJA,IAOI,0BAPG,OAOH;AAAA,MANJC,KAMI,QANJA,KAMI;AAAA,MALJC,KAKI,QALJA,KAKI;AAAA,MAJJC,QAII,QAJJA,QAII;AAAA,MAHJC,OAGI,QAHJA,OAGI;AAAA,MAFJC,UAEI,QAFJA,UAEI;AAAA,MADJC,aACI,QADJA,aACI;;AAAA,kBACwCjB,QAAQ,CAAC,CAAD,CADhD;AAAA,MACGkB,cADH;AAAA,MACmBC,iBADnB;;AAAA,mBAE0CnB,QAAQ,CAAC,CAAD,CAFlD;AAAA,MAEGoB,eAFH;AAAA,MAEoBC,kBAFpB;;AAAA,mBAGsCrB,QAAQ,CAChDe,OADgD,aAChDA,OADgD,cAChDA,OADgD,GACrC,EADqC,CAH9C;AAAA,MAGGO,aAHH;AAAA,MAGkBC,gBAHlB;;AAOJtB,EAAAA,SAAS,CAAC,YAAM;AACdsB,IAAAA,gBAAgB,CAACR,OAAD,CAAhB;AACD,GAFQ,EAEN,CAACA,OAAD,CAFM,CAAT;;AAIA,MAAMS,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD;AAAA,WAAW,UAACC,KAAD,EAAW;AAC3C,UAAMC,QAAQ,GAAGC,QAAQ,CAACF,KAAK,CAACG,MAAN,CAAahB,KAAd,CAAR,KAAiC,CAAjC,GAAqC,CAArC,GAAyC,CAA1D;AACAiB,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EAAsBF,KAAtB;AACA,UAAMO,SAAS,GAAGL,QAAQ,KAAK,CAA/B;;AACA,UAAIF,KAAK,KAAK,CAAd,EAAiB;AACfN,QAAAA,iBAAiB,CAACQ,QAAD,CAAjB;AACAb,QAAAA,QAAQ,CAAC,CAACkB,SAAD,EAAYnB,KAAK,CAAC,CAAD,CAAjB,CAAD,CAAR;AACD,OAHD,MAGO;AACLQ,QAAAA,kBAAkB,CAACM,QAAD,CAAlB;AACAb,QAAAA,QAAQ,CAAC,CAACD,KAAK,CAAC,CAAD,CAAN,EAAWmB,SAAX,CAAD,CAAR;AACD;AACF,KAXsB;AAAA,GAAvB;;AAaA,MAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA,WAClB,MAAC,KAAD;AACE,MAAA,KAAK,EAAEC,MAAM,CAACC,KADhB;AAEE,MAAA,KAAK,EAAEtB,KAFT;AAGE,MAAA,QAAQ,EAAE,kBAACuB,CAAD;AAAA,eAAOtB,QAAQ,CAACsB,CAAC,CAACP,MAAF,CAAShB,KAAV,CAAf;AAAA,OAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADkB;AAAA,GAApB;;AAQA,MAAMwB,cAAc,GAAG,SAAjBA,cAAiB;AAAA,WACrB,MAAC,QAAD;AACE,MAAA,KAAK,EAAEH,MAAM,CAACC,KADhB;AAEE,MAAA,IAAI,EAAE,CAFR;AAGE,MAAA,QAAQ,EAAE;AAAEG,QAAAA,OAAO,EAAE,CAAX;AAAcC,QAAAA,OAAO,EAAE;AAAvB,OAHZ;AAIE,MAAA,KAAK,EAAE1B,KAJT;AAKE,MAAA,QAAQ,EAAE,kBAACuB,CAAD;AAAA,eAAOtB,QAAQ,CAACsB,CAAC,CAACP,MAAF,CAAShB,KAAV,CAAf;AAAA,OALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADqB;AAAA,GAAvB;;AAUA,MAAM2B,UAAU,GAAG,SAAbA,UAAa;AAAA,WAAM;AAAM,MAAA,KAAK,EAAEN,MAAM,CAACO,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2B5B,KAA3B,CAAN;AAAA,GAAnB;;AAEA,MAAM6B,UAAU,GAAG,SAAbA,UAAa;AAAA,WACjB,MAAC,IAAD;AAAM,MAAA,YAAY,EAAE7B,KAApB;AAAqC,MAAA,QAAQ,EAAEC,QAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADiB;AAAA,GAAnB;;AAIA,MAAM6B,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,WACvB,MAAC,IAAD;AACE,MAAA,YAAY,EAAE9B,KADhB;AAEE,MAAA,KAAK,EAAEqB,MAAM,CAACU,WAFhB;AAGE,MAAA,QAAQ,EAAE9B,QAHZ;AAIE,MAAA,SAAS,EAAE,0BAAe;AAAA,YAAZW,KAAY,SAAZA,KAAY;AACxB,eAAO;AAAM,UAAA,KAAK,EAAE;AAAEoB,YAAAA,WAAW,EAAE;AAAf,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAkCpB,KAAK,GAAG,CAA1C,CAAP;AACD,OANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADuB;AAAA,GAAzB;;AAWA,MAAMqB,YAAY,GAAG,SAAfA,YAAe;AAAA,WACnB,MAAC,WAAD;AACE,MAAA,KAAK,EAAEZ,MAAM,CAACa,WADhB;AAEE,MAAA,KAAK,EAAGlC,KAFV;AAGE,MAAA,QAAQ,EAAE,kBAACuB,CAAD;AAAA,eAAOtB,QAAQ,CAACsB,CAAD,CAAf;AAAA,OAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADmB;AAAA,GAArB;;AAQA,MAAMY,UAAU,GAAG,SAAbA,UAAa;AAAA,WACjB,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAEd,MAAM,CAACa,WAAtB;AAAmC,MAAA,QAAQ,EAAEjC,QAA7C;AAAuD,MAAA,YAAY,EAAED,KAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,EAEE,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,EAGE,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAHF,EAIE,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAJF,CADiB;AAAA,GAAnB;;AASA,MAAMoC,cAAc,GAAG,SAAjBA,cAAiB;AAAA,WACrB,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAEf,MAAM,CAACa,WAAtB;AAAmC,MAAA,QAAQ,EAAEjC,QAA7C;AAAuD,MAAA,YAAY,EAAED,KAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,EAEE,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,CADqB;AAAA,GAAvB;;AAOA,MAAMqC,eAAe,GAAG,SAAlBA,eAAkB;AAAA,WACtB;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,UAAU,EAAE,QAA/B;AAAyCC,QAAAA,MAAM,EAAE;AAAjD,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,EAAE,EAAC,GADL;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAEnC,cAHT;AAIE,MAAA,QAAQ,EAAEM,cAAc,CAAC,CAAD,CAJ1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE;AAAO,MAAA,KAAK,EAAEU,MAAM,CAACoB,kBAArB;AAAyC,MAAA,OAAO,EAAC,GAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAPF,CADF,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,EAAE,EAAC,GADL;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAElC,eAHT;AAIE,MAAA,QAAQ,EAAEI,cAAc,CAAC,CAAD,CAJ1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE;AAAO,MAAA,KAAK,EAAEU,MAAM,CAACoB,kBAArB;AAAyC,MAAA,OAAO,EAAC,GAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAPF,CAZF,CADsB;AAAA,GAAxB;;AA2BA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,QAAMC,KAAK,GAAG,IAAIC,IAAJ,EAAd;AACA,QAAMC,WAAW,GAAGF,KAAK,CAACG,WAAN,EAApB;AACA,QAAMC,YAAY,GAAGJ,KAAK,CAACK,QAAN,EAArB;AACA,QAAMC,aAAa,GAAGJ,WAAW,GAAG,IAApC,CAJ6B,CAIa;;AAC1C,QAAMK,eAAe,GAAGH,YAAY,GAAG,CAAf,GAAmB,CAAnB,GAAuB,CAA/C;AACA,QAAMI,mBAAmB,GACvBD,eAAe,KAAK,CAApB,GAAwBD,aAAa,GAAG,CAAxC,GAA4CA,aAD9C,CAN6B,CAOgC;;AAC7D,QAAMG,YAAY,GAAGD,mBAAmB,GAAG,CAA3C;AACA,QAAME,YAAY,GAAGF,mBAAmB,GAAG,CAA3C;AACA,QAAMG,cAAc,GAAGH,mBAAmB,GAAG,CAA7C;AACA,QAAMI,aAAa,GAAGJ,mBAAmB,GAAG,CAA5C;AACA,WACE,MAAC,MAAD;AACE,MAAA,KAAK,EAAE9B,MAAM,CAACa,WADhB;AAEE,MAAA,QAAQ,EAAEjC,QAFZ;AAGE,MAAA,YAAY,EAAED,KAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE,MAAC,MAAD;AAAQ,MAAA,KAAK,YAAKoD,YAAL,cAAqBD,mBAArB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACKC,YADL,OACoBD,mBADpB,CALF,EAQE,MAAC,MAAD;AAAQ,MAAA,KAAK,YAAKE,YAAL,cAAqBD,YAArB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACKC,YADL,OACoBD,YADpB,CARF,EAWE,MAAC,MAAD;AAAQ,MAAA,KAAK,YAAKE,cAAL,cAAuBD,YAAvB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACKC,cADL,OACsBD,YADtB,CAXF,EAcE,MAAC,MAAD;AAAQ,MAAA,KAAK,YAAKE,aAAL,cAAsBD,cAAtB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACKC,aADL,OACqBD,cADrB,CAdF,CADF;AAoBD,GAhCD;;AAkCA,MAAME,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,WACvB,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAEnC,MAAM,CAACa,WAAtB;AAAmC,MAAA,QAAQ,EAAEjC,QAA7C;AAAuD,MAAA,YAAY,EAAED,KAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF,EAGE,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAE,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHF,CADuB;AAAA,GAAzB;;AAQA,MAAMyD,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA,WACzB,MAAC,YAAD;AACE,MAAA,KAAK,EAAEpC,MAAM,CAACC,KADhB;AAEE,MAAA,OAAO,EAAEb,aAFX;AAGE,MAAA,QAAQ,EAAER,QAHZ;AAIE,MAAA,QAAQ,EAAE,kBAACyD,UAAD;AAAA,eACRhD,gBAAgB,CACdR,OAAO,CAACyD,MAAR,CAAe,UAACC,IAAD;AAAA,iBAAUA,IAAI,CAAC5D,KAAL,CAAW6D,QAAX,CAAoBH,UAApB,CAAV;AAAA,SAAf,CADc,CADR;AAAA,OAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADyB;AAAA,GAA3B;;AAaA,MAAMI,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,QAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,UAAD,EAAgB;AACjC,UAAMC,aAAa,GAAIjE,KAAD,CAA0B2D,MAA1B,CACpB,UAACO,GAAD;AAAA,eAASA,GAAG,CAACC,EAAJ,KAAWH,UAAU,CAACG,EAA/B;AAAA,OADoB,CAAtB;AAGAlE,MAAAA,QAAQ,CAACgE,aAAD,CAAR;AACD,KALD;;AAOA,QAAMG,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBnD,MAAAA,OAAO,CAACC,GAAR,CAAYlB,KAAZ;AACA,aAAQA,KAAD,CAA0BqE,GAA1B,CAA8B,UAACH,GAAD;AAAA,eACnC,MAAC,GAAD;AAAK,UAAA,QAAQ,MAAb;AAAc,UAAA,OAAO,EAAE;AAAA,mBAAMH,UAAU,CAACG,GAAD,CAAhB;AAAA,WAAvB;AAA8C,UAAA,GAAG,EAAEA,GAAG,CAACC,EAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGD,GAAG,CAAClE,KADP,CADmC;AAAA,OAA9B,CAAP;AAKD,KAPD;;AASA,QAAMsE,SAAS,GAAG,SAAZA,SAAY,CAACC,IAAD,EAAU;AAC1B,UAAMC,MAAM,GAAG/D,aAAa,CAACkD,MAAd,CAAqB,UAACO,GAAD;AAAA,eAASA,GAAG,CAAClE,KAAJ,KAAcuE,IAAvB;AAAA,OAArB,CAAf;AACAtE,MAAAA,QAAQ,CAAED,KAAD,CAA0ByE,MAA1B,CAAiCD,MAAjC,CAAD,CAAR;AACApE,MAAAA,aAAa,CAAC,EAAD,CAAb;AACD,KAJD;;AAMA,QAAMsE,QAAQ,GAAG,SAAXA,QAAW,CAACC,aAAD;AAAA,aAAmBvE,aAAa,CAACuE,aAAD,CAAhC;AAAA,KAAjB;;AAEA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,YAAD;AACE,MAAA,KAAK,EAAEtD,MAAM,CAACC,KADhB;AAEE,MAAA,QAAQ,EAAEgD,SAFZ;AAGE,MAAA,OAAO,EAAE7D,aAHX;AAIE,MAAA,KAAK,EAAEN,UAJT;AAKE,MAAA,QAAQ,EAAEuE,QALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAQE;AAAK,MAAA,KAAK,EAAE;AAAEE,QAAAA,SAAS,EAAE,EAAb;AAAiBC,QAAAA,QAAQ,EAAE;AAA3B,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+CT,UAAU,EAAzD,CARF,CADF;AAYD,GArCD;;AAuCA,MAAMU,eAAe,GAAG,EAAxB;;AAIA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,YAAQjF,IAAR;AACE,WAAK,OAAL;AACE,eAAOsB,WAAW,EAAlB;;AACF,WAAK,UAAL;AACE,eAAOI,cAAc,EAArB;;AACF,WAAK,MAAL;AACE,eAAOG,UAAU,EAAjB;;AACF,WAAK,MAAL;AACE,eAAOE,UAAU,EAAjB;;AACF,WAAK,YAAL;AACE,eAAOC,gBAAgB,EAAvB;;AACF,WAAK,QAAL;AACE,eAAOG,YAAY,EAAnB;;AACF,WAAK,MAAL;AACE,eAAOE,UAAU,EAAjB;;AACF,WAAK,UAAL;AACE,eAAOC,cAAc,EAArB;;AACF,WAAK,WAAL;AACE,eAAOC,eAAe,EAAtB;;AACF,WAAK,YAAL;AACE,eAAOK,gBAAgB,EAAvB;;AACF,WAAK,YAAL;AACE,eAAOc,gBAAgB,EAAvB;;AACF,WAAK,cAAL;AACE,eAAOC,kBAAkB,EAAzB;;AACF,WAAK,QAAL;AACE,eAAOK,YAAY,EAAnB;;AACF;AACE,eAAO1C,WAAW,EAAlB;AA5BJ;AA8BD,GA/BD;;AAiCA,SACE;AAAK,IAAA,KAAK,EAAEC,MAAM,CAAC2D,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,KAAK,EAAE3D,MAAM,CAACtB,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAgCA,KAAhC,OADF,EAEG+E,eAAe,EAFlB,CADF;AAMD,CA/PD;;GAAMjF,a;;KAAAA,a;AAiQN,IAAMwB,MAAM,GAAG;AACb2D,EAAAA,cAAc,EAAE;AACd1C,IAAAA,OAAO,EAAE,MADK;AAEd2C,IAAAA,YAAY,EAAE,EAFA;AAGd1C,IAAAA,UAAU,EAAE,YAHE;AAId2C,IAAAA,cAAc,EAAE;AAJF,GADH;AAObnF,EAAAA,KAAK,EAAE;AACLoF,IAAAA,KAAK,EAAE,GADF;AAELP,IAAAA,SAAS,EAAE;AAFN,GAPM;AAWbtD,EAAAA,KAAK,EAAE;AACL6D,IAAAA,KAAK,EAAE,GADF;AAELN,IAAAA,QAAQ,EAAE;AAFL,GAXM;AAebjD,EAAAA,IAAI,EAAE;AACJgD,IAAAA,SAAS,EAAE;AADP,GAfO;AAkBb7C,EAAAA,WAAW,EAAE,CACX;AADW,GAlBA;AAqBbG,EAAAA,WAAW,EAAE;AACXiD,IAAAA,KAAK,EAAE;AADI,GArBA;AAwBb1C,EAAAA,kBAAkB,EAAE;AAClB2C,IAAAA,MAAM,EAAE,mBADU;AAElBC,IAAAA,QAAQ,EAAE;AAFQ;AAxBP,CAAf;AA8BA,eAAexF,aAAf","sourcesContent":["import { useState, useEffect, Dispatch, SetStateAction } from \"react\";\n\nimport { Input, InputNumber, Rate, Select, AutoComplete, Tag } from \"antd\";\nconst { TextArea } = Input;\nconst { Option } = Select;\n\ninterface FormModalItemProps {\n  type:\n    | \"input\"\n    | \"textarea\"\n    | \"text\"\n    | \"rate\"\n    | \"numerical\"\n    | \"difficulty\"\n    | \"number\"\n    | \"semester\"\n    | \"university\"\n    | \"year\"\n    | \"annualYear\"\n    | \"semesters\"\n    | \"autocomplete\"\n    | \"prereq\";\n  label: string;\n  value: string | number | boolean[] | string[] | SearchOption[];\n  setValue?: Dispatch<SetStateAction<any>>;\n  options?: any[];\n  searchTerm?: string;\n  setSearchTerm?: Dispatch<SetStateAction<any>>;\n}\n\ninterface SearchOption {\n  value: string;\n  id: string;\n}\n\nconst FormModalItem: React.FC<FormModalItemProps> = ({\n  type = \"input\",\n  label,\n  value,\n  setValue,\n  options,\n  searchTerm,\n  setSearchTerm,\n}) => {\n  const [firstIsChecked, setFirstIsChecked] = useState(0);\n  const [secondIsChecked, setSecondIsChecked] = useState(0);\n  const [searchOptions, setSearchOptions] = useState<SearchOption[]>(\n    options ?? []\n  );\n\n  useEffect(() => {\n    setSearchOptions(options);\n  }, [options]);\n\n  const toggleCheckbox = (index) => (event) => {\n    const newValue = parseInt(event.target.value) === 0 ? 1 : 0;\n    console.log(newValue, index);\n    const isChecked = newValue === 1;\n    if (index === 1) {\n      setFirstIsChecked(newValue);\n      setValue([isChecked, value[1]]);\n    } else {\n      setSecondIsChecked(newValue);\n      setValue([value[0], isChecked]);\n    }\n  };\n\n  const renderInput = () => (\n    <Input\n      style={styles.input}\n      value={value as string}\n      onChange={(e) => setValue(e.target.value)}\n    />\n  );\n\n  const renderTextArea = () => (\n    <TextArea\n      style={styles.input}\n      rows={4}\n      autoSize={{ minRows: 4, maxRows: 4 }}\n      value={value as string}\n      onChange={(e) => setValue(e.target.value)}\n    />\n  );\n\n  const renderText = () => <span style={styles.text}>{value}</span>;\n\n  const renderRate = () => (\n    <Rate defaultValue={value as number} onChange={setValue} />\n  );\n\n  const renderDifficulty = () => (\n    <Rate\n      defaultValue={value as number}\n      style={styles.rateObjects}\n      onChange={setValue}\n      character={({ index }) => {\n        return <span style={{ marginRight: 9 }}>{index + 1}</span>;\n      }}\n    />\n  );\n\n  const renderNumber = () => (\n    <InputNumber\n      style={styles.inputNumber}\n      value={(value as unknown) as number}\n      onChange={(e) => setValue(e as string)}\n    />\n  );\n\n  const renderYear = () => (\n    <Select style={styles.inputNumber} onChange={setValue} defaultValue={value}>\n      <Option value={1}>1</Option>\n      <Option value={2}>2</Option>\n      <Option value={3}>3</Option>\n      <Option value={4}>4</Option>\n    </Select>\n  );\n\n  const renderSemester = () => (\n    <Select style={styles.inputNumber} onChange={setValue} defaultValue={value}>\n      <Option value={1}>1</Option>\n      <Option value={2}>2</Option>\n    </Select>\n  );\n\n  const renderSemesters = () => (\n    <div style={{ display: \"flex\", alignItems: \"center\", height: 34 }}>\n      <div>\n        <input\n          id=\"1\"\n          type=\"checkbox\"\n          value={firstIsChecked}\n          onChange={toggleCheckbox(1)}\n        />\n        <label style={styles.inputCheckboxLabel} htmlFor=\"1\">\n          1\n        </label>\n      </div>\n      <div>\n        <input\n          id=\"2\"\n          type=\"checkbox\"\n          value={secondIsChecked}\n          onChange={toggleCheckbox(2)}\n        />\n        <label style={styles.inputCheckboxLabel} htmlFor=\"2\">\n          2\n        </label>\n      </div>\n    </div>\n  );\n\n  const renderAnnualYear = () => {\n    const today = new Date();\n    const currentYear = today.getFullYear();\n    const currentMonth = today.getMonth();\n    const yearShortform = currentYear % 2000; // eg. 2020 => 20\n    const currentSemester = currentMonth < 6 ? 2 : 1;\n    const currentAYSecondYear =\n      currentSemester === 1 ? yearShortform + 1 : yearShortform; // if current semester is 2, then the second year of the AY is the current year\n    const yearMinusOne = currentAYSecondYear - 1;\n    const yearMinusTwo = currentAYSecondYear - 2;\n    const yearMinusThree = currentAYSecondYear - 3;\n    const yearMinusFour = currentAYSecondYear - 4;\n    return (\n      <Select\n        style={styles.inputNumber}\n        onChange={setValue}\n        defaultValue={value}\n      >\n        <Option value={`${yearMinusOne}/${currentAYSecondYear}`}>\n          AY{yearMinusOne}/{currentAYSecondYear}\n        </Option>\n        <Option value={`${yearMinusTwo}/${yearMinusOne}`}>\n          AY{yearMinusTwo}/{yearMinusOne}\n        </Option>\n        <Option value={`${yearMinusThree}/${yearMinusTwo}`}>\n          AY{yearMinusThree}/{yearMinusTwo}\n        </Option>\n        <Option value={`${yearMinusFour}/${yearMinusThree}`}>\n          AY{yearMinusFour}/{yearMinusThree}\n        </Option>\n      </Select>\n    );\n  };\n\n  const renderUniversity = () => (\n    <Select style={styles.inputNumber} onChange={setValue} defaultValue={value}>\n      <Option value={\"NUS\"}>NUS</Option>\n      <Option value={\"NTU\"}>NTU</Option>\n      <Option value={\"SMU\"}>SMU</Option>\n    </Select>\n  );\n\n  const renderAutoComplete = () => (\n    <AutoComplete\n      style={styles.input}\n      options={searchOptions}\n      onSelect={setValue}\n      onSearch={(searchText) =>\n        setSearchOptions(\n          options.filter((item) => item.value.includes(searchText))\n        )\n      }\n    />\n  );\n\n  const renderPrereq = () => {\n    const removeCode = (removedMod) => {\n      const filteredCodes = (value as SearchOption[]).filter(\n        (mod) => mod.id !== removedMod.id\n      );\n      setValue(filteredCodes);\n    };\n\n    const renderTags = () => {\n      console.log(value);\n      return (value as SearchOption[]).map((mod) => (\n        <Tag closable onClose={() => removeCode(mod)} key={mod.id}>\n          {mod.value}\n        </Tag>\n      ));\n    };\n\n    const addModule = (code) => {\n      const modArr = searchOptions.filter((mod) => mod.value === code);\n      setValue((value as SearchOption[]).concat(modArr));\n      setSearchTerm(\"\");\n    };\n\n    const onChange = (newSearchTerm) => setSearchTerm(newSearchTerm);\n\n    return (\n      <div>\n        <AutoComplete\n          style={styles.input}\n          onSelect={addModule}\n          options={searchOptions}\n          value={searchTerm}\n          onChange={onChange}\n        />\n        <div style={{ marginTop: 10, maxWidth: 390 }}>{renderTags()}</div>\n      </div>\n    );\n  };\n\n  const renderInputType = {\n    \n  }\n\n  const renderInputTypes = () => {\n    switch (type) {\n      case \"input\":\n        return renderInput();\n      case \"textarea\":\n        return renderTextArea();\n      case \"text\":\n        return renderText();\n      case \"rate\":\n        return renderRate();\n      case \"difficulty\":\n        return renderDifficulty();\n      case \"number\":\n        return renderNumber();\n      case \"year\":\n        return renderYear();\n      case \"semester\":\n        return renderSemester();\n      case \"semesters\":\n        return renderSemesters();\n      case \"annualYear\":\n        return renderAnnualYear();\n      case \"university\":\n        return renderUniversity();\n      case \"autocomplete\":\n        return renderAutoComplete();\n      case \"prereq\":\n        return renderPrereq();\n      default:\n        return renderInput();\n    }\n  };\n\n  return (\n    <div style={styles.labelContainer}>\n      <label style={styles.label}>{`${label}:`}</label>\n      {renderInputType()}\n    </div>\n  );\n};\n\nconst styles = {\n  labelContainer: {\n    display: \"flex\",\n    marginBottom: 20,\n    alignItems: \"flex-start\",\n    justifyContent: \"flex-start\",\n  },\n  label: {\n    width: 150,\n    marginTop: 5,\n  },\n  input: {\n    width: 390,\n    maxWidth: 390,\n  },\n  text: {\n    marginTop: 5,\n  },\n  rateObjects: {\n    // color: \"#000\",\n  },\n  inputNumber: {\n    width: 100,\n  },\n  inputCheckboxLabel: {\n    margin: \"0px 20px 0px 10px\",\n    fontSize: 15,\n  },\n};\n\nexport default FormModalItem;\n"]},"metadata":{},"sourceType":"module"}