{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from \"react\";\nimport plannedModApi from \"../api/planned-mod\";\nimport { updatedPersonalPlannedModules } from \"../utils/helpers\";\nimport FormModal from \"./FormModal\";\nimport FormModalItem from \"./FormModalItem\";\nimport { submitBlue, plannedModGreen } from \"../styles/colors\";\n\nvar AddPlannedModModal = function AddPlannedModModal(_ref) {\n  var userId = _ref.userId,\n      modId = _ref.modId,\n      plannedModId = _ref.plannedModId,\n      isModalVisible = _ref.isModalVisible,\n      setModalVisibility = _ref.setModalVisibility;\n\n  var _useState = useState(1),\n      year = _useState[0],\n      setYear = _useState[1];\n\n  var _useState2 = useState(1),\n      semester = _useState2[0],\n      setSemester = _useState2[1];\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var numberOfSemesters;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              numberOfSemesters = (year - 1) * 2 + semester;\n\n              if (!plannedModId) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 4;\n              return plannedModApi.updatePlannedMod(plannedModId, userId, modId, numberOfSemesters);\n\n            case 4:\n              _context.next = 8;\n              break;\n\n            case 6:\n              _context.next = 8;\n              return plannedModApi.addPlannedMod(userId, modId, numberOfSemesters);\n\n            case 8:\n              updatedPersonalPlannedModules(userId);\n              setModalVisibility(false);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(FormModal, {\n    title: \"Add to Study Planner\",\n    backgroundColor: plannedModGreen,\n    isModalVisible: isModalVisible,\n    setModalVisibility: setModalVisibility,\n    submitColor: submitBlue,\n    onSubmit: onSubmit\n  }, __jsx(FormModalItem, {\n    label: \"Year\",\n    type: \"year\",\n    value: year,\n    setValue: setYear\n  }), __jsx(FormModalItem, {\n    label: \"Semester\",\n    type: \"semester\",\n    value: semester,\n    setValue: setSemester\n  }));\n};\n\nexport default AddPlannedModModal;","map":null,"metadata":{},"sourceType":"module"}