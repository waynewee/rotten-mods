{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from \"react\";\nimport plannedModApi from \"../api/planned-mod\";\nimport { updatedPersonalPlannedModules } from \"../utils/helpers\";\nimport FormModal from \"./FormModal\";\nimport FormModalItem from \"./FormModalItem\";\nimport { submitBlue, plannedModGreen } from \"../styles/colors\";\n\nconst AddPlannedModModal = ({\n  userId,\n  modId,\n  plannedModId,\n  isModalVisible,\n  setModalVisibility\n}) => {\n  const {\n    0: year,\n    1: setYear\n  } = useState(1);\n  const {\n    0: semester,\n    1: setSemester\n  } = useState(1);\n\n  const onSubmit = async () => {\n    const numberOfSemesters = (year - 1) * 2 + semester;\n\n    if (plannedModId) {\n      // Exists already, so update it instead\n      await plannedModApi.updatePlannedMod(plannedModId, userId, modId, numberOfSemesters);\n    } else {\n      await plannedModApi.addPlannedMod(userId, modId, numberOfSemesters);\n    }\n\n    updatedPersonalPlannedModules(userId);\n    setModalVisibility(false);\n  };\n\n  return __jsx(FormModal, {\n    title: \"Add to Study Planner\",\n    backgroundColor: plannedModGreen,\n    isModalVisible: isModalVisible,\n    setModalVisibility: setModalVisibility,\n    submitColor: submitBlue,\n    onSubmit: onSubmit\n  }, __jsx(FormModalItem, {\n    label: \"Year\",\n    type: \"year\",\n    value: year,\n    setValue: setYear\n  }), __jsx(FormModalItem, {\n    label: \"Semester\",\n    type: \"semester\",\n    value: semester,\n    setValue: setSemester\n  }));\n};\n\nexport default AddPlannedModModal;","map":null,"metadata":{},"sourceType":"module"}