{"ast":null,"code":"var _jsxFileName = \"/Users/zhangxian/Desktop/RottenMods/frontend/components/ProfileButton.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport authUtils from \"../utils/authentication\";\nimport LoginModal from \"./LoginModal\";\nimport SignupModal from \"./SignupModal\";\nimport { reviewBlue } from \"../styles/colors\";\nimport CustomButton from \"./Button\";\nimport AddCourseModal from \"./AddCourseModal\";\nimport { Button, Menu, Dropdown } from \"antd\";\nimport \"../styles/antd.less\";\n\nconst ProfileButton = () => {\n  const {\n    0: loginModalVisible,\n    1: setLoginModalVisible\n  } = useState(false);\n  const {\n    0: signupModalVisible,\n    1: setSignupModalVisible\n  } = useState(false);\n  const {\n    0: addCourseModalVisible,\n    1: setAddCourseModalVisible\n  } = useState(false);\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn);\n  const user = useSelector(state => state.auth.user);\n  const router = useRouter();\n  useEffect(() => {\n    isLoggedIn ? setLoginModalVisible(false) : null;\n  });\n\n  const toggleLoginModal = () => {\n    setLoginModalVisible(!loginModalVisible);\n  };\n\n  const toggleSignupModal = () => {\n    setSignupModalVisible(!signupModalVisible);\n  };\n\n  const switchModals = () => {\n    setSignupModalVisible(!signupModalVisible);\n    setLoginModalVisible(!loginModalVisible);\n  };\n\n  const navigateToProfilePage = () => {\n    router.push({\n      pathname: \"/profile\"\n    });\n  };\n\n  const logoutUser = () => {\n    authUtils.logOut();\n    router.push({\n      pathname: \"/home\"\n    });\n  };\n\n  const toggleAddCourseModal = () => {\n    setAddCourseModalVisible(!addCourseModalVisible);\n  };\n\n  const menu = __jsx(Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, __jsx(Menu.Item, {\n    key: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, __jsx(Button, {\n    type: \"text\",\n    onClick: navigateToProfilePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"Profile\")), __jsx(Menu.Item, {\n    key: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, __jsx(Button, {\n    type: \"text\",\n    onClick: logoutUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"Log Out\")));\n\n  return __jsx(React.Fragment, null, isLoggedIn ? __jsx(React.Fragment, null, __jsx(Dropdown, {\n    overlay: menu,\n    placement: \"bottomCenter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, user.fullName)), __jsx(Button, {\n    onClick: toggleAddCourseModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"Add Course\")) : __jsx(CustomButton, {\n    style: styles.loginButton,\n    onClick: toggleLoginModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, \"Log In\"), loginModalVisible && !isLoggedIn ? __jsx(LoginModal, {\n    toggles: {\n      toggleLoginModal,\n      switchModals\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }) : null, signupModalVisible ? __jsx(SignupModal, {\n    toggles: {\n      toggleSignupModal,\n      switchModals\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }) : null, addCourseModalVisible ? __jsx(AddCourseModal, {\n    toggleAddCourseModal: toggleAddCourseModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }) : null);\n};\n\nconst styles = {\n  container: {\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: \"0px 10px\",\n    padding: 20,\n    backgroundColor: reviewBlue,\n    color: \"#fff\",\n    borderRadius: 8\n  },\n  userName: {\n    alignItems: \"flex-end\",\n    paddingLeft: \"10px\",\n    margin: 0,\n    fontSize: 15\n  },\n  loginButton: {\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: \"0px 10px\",\n    padding: 10,\n    backgroundColor: reviewBlue,\n    color: \"#fff\",\n    borderRadius: 8\n  }\n};\nexport default ProfileButton;","map":{"version":3,"sources":["/Users/zhangxian/Desktop/RottenMods/frontend/components/ProfileButton.tsx"],"names":["useEffect","useState","useSelector","useRouter","authUtils","LoginModal","SignupModal","reviewBlue","CustomButton","AddCourseModal","Button","Menu","Dropdown","ProfileButton","loginModalVisible","setLoginModalVisible","signupModalVisible","setSignupModalVisible","addCourseModalVisible","setAddCourseModalVisible","isLoggedIn","state","auth","user","router","toggleLoginModal","toggleSignupModal","switchModals","navigateToProfilePage","push","pathname","logoutUser","logOut","toggleAddCourseModal","menu","styles","container","fullName","loginButton","display","alignItems","margin","padding","backgroundColor","color","borderRadius","userName","paddingLeft","fontSize"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport { User } from \"../types\";\nimport authUtils from \"../utils/authentication\";\n\nimport LoginModal from \"./LoginModal\";\nimport SignupModal from \"./SignupModal\";\nimport { reviewBlue } from \"../styles/colors\";\nimport CustomButton from \"./Button\";\nimport AddCourseModal from \"./AddCourseModal\";\nimport { Button, Menu, Dropdown } from \"antd\";\nimport \"../styles/antd.less\";\n\nconst ProfileButton: React.FC = () => {\n  const [loginModalVisible, setLoginModalVisible] = useState(false);\n  const [signupModalVisible, setSignupModalVisible] = useState(false);\n  const [addCourseModalVisible, setAddCourseModalVisible] = useState(false);\n\n  const isLoggedIn: boolean = useSelector((state) => state.auth.isLoggedIn);\n  const user: User = useSelector((state) => state.auth.user);\n\n  const router = useRouter();\n\n  useEffect(() => {\n    isLoggedIn ? setLoginModalVisible(false) : null;\n  });\n\n  const toggleLoginModal = () => {\n    setLoginModalVisible(!loginModalVisible);\n  };\n\n  const toggleSignupModal = () => {\n    setSignupModalVisible(!signupModalVisible);\n  };\n\n  const switchModals = () => {\n    setSignupModalVisible(!signupModalVisible);\n    setLoginModalVisible(!loginModalVisible);\n  };\n\n  const navigateToProfilePage = () => {\n    router.push({\n      pathname: \"/profile\",\n    });\n  };\n\n  const logoutUser = () => {\n    authUtils.logOut();\n    router.push({\n      pathname: \"/home\",\n    });\n  }\n\n  const toggleAddCourseModal = () => {\n    setAddCourseModalVisible(!addCourseModalVisible);\n  }\n\n\n\n  const menu = (\n    <Menu>\n      <Menu.Item key=\"1\">\n        <Button type=\"text\" onClick={navigateToProfilePage}>\n          Profile\n        </Button>\n      </Menu.Item>\n      <Menu.Item key=\"2\">\n        <Button type=\"text\" onClick={logoutUser}>\n          Log Out\n        </Button>\n      </Menu.Item>\n    </Menu>\n  );\n\n  return (\n    <>\n      {isLoggedIn ? (\n        <>\n          <Dropdown overlay={menu} placement=\"bottomCenter\">\n            <Button style={styles.container}>{user.fullName}</Button>\n          </Dropdown>\n          <Button onClick = {toggleAddCourseModal}> \n            Add Course\n          </Button>\n        </>\n      ) : (\n        <CustomButton style={styles.loginButton} onClick={toggleLoginModal}>\n          Log In\n        </CustomButton>\n      )}\n\n      {loginModalVisible && !isLoggedIn ? (\n        <LoginModal toggles={{ toggleLoginModal, switchModals }} />\n      ) : null}\n      {signupModalVisible ? (\n        <SignupModal toggles={{ toggleSignupModal, switchModals }} />\n      ) : null}\n      {addCourseModalVisible ? (\n        <AddCourseModal toggleAddCourseModal={toggleAddCourseModal} />\n      ) : null}\n    </>\n  );\n};\n\nconst styles = {\n  container: {\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: \"0px 10px\",\n    padding: 20,\n    backgroundColor: reviewBlue,\n    color: \"#fff\",\n    borderRadius: 8,\n  },\n  userName: {\n    alignItems: \"flex-end\",\n    paddingLeft: \"10px\",\n    margin: 0,\n    fontSize: 15,\n  },\n  loginButton: {\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: \"0px 10px\",\n    padding: 10,\n    backgroundColor: reviewBlue,\n    color: \"#fff\",\n    borderRadius: 8,\n  },\n};\n\nexport default ProfileButton;\n"]},"metadata":{},"sourceType":"module"}