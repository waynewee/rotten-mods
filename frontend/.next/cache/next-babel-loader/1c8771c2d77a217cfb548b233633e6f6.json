{"ast":null,"code":"var _jsxFileName = \"/Users/zhangxian/Desktop/RottenMods/frontend/components/FormModalItem.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from \"react\";\nimport { Input, InputNumber, Rate, Select, AutoComplete, Tag } from \"antd\";\nconst {\n  TextArea\n} = Input;\nconst {\n  Option\n} = Select;\n\nconst FormModalItem = ({\n  type = \"input\",\n  label,\n  value,\n  setValue,\n  options\n}) => {\n  const {\n    0: firstIsChecked,\n    1: setFirstIsChecked\n  } = useState(0);\n  const {\n    0: secondIsChecked,\n    1: setSecondIsChecked\n  } = useState(0);\n  const {\n    0: searchOptions,\n    1: setSearchOptions\n  } = useState(options !== null && options !== void 0 ? options : []);\n  const {\n    0: searchTerm,\n    1: setSearchTerm\n  } = useState(\"\");\n\n  const toggleCheckbox = index => event => {\n    const newValue = parseInt(event.target.value) === 0 ? 1 : 0;\n    console.log(newValue, index);\n    const isChecked = newValue === 1;\n\n    if (index === 1) {\n      setFirstIsChecked(newValue);\n      setValue([isChecked, value[1]]);\n    } else {\n      setSecondIsChecked(newValue);\n      setValue([value[0], isChecked]);\n    }\n  };\n\n  const renderInput = () => __jsx(Input, {\n    style: styles.input,\n    value: value,\n    onChange: e => setValue(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  });\n\n  const renderTextArea = () => __jsx(TextArea, {\n    style: styles.input,\n    rows: 4,\n    autoSize: {\n      minRows: 4,\n      maxRows: 4\n    },\n    value: value,\n    onChange: e => setValue(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  });\n\n  const renderText = () => __jsx(\"span\", {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 28\n    }\n  }, value);\n\n  const renderRate = () => __jsx(Rate, {\n    defaultValue: value,\n    onChange: setValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  });\n\n  const renderDifficulty = () => __jsx(Rate, {\n    defaultValue: value,\n    style: styles.rateObjects,\n    onChange: setValue,\n    character: ({\n      index\n    }) => {\n      return __jsx(\"span\", {\n        style: {\n          marginRight: 9\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 16\n        }\n      }, index + 1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  });\n\n  const renderNumber = () => __jsx(InputNumber, {\n    style: styles.inputNumber,\n    value: value,\n    onChange: e => setValue(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  });\n\n  const renderYear = () => __jsx(Select, {\n    style: styles.inputNumber,\n    onChange: setValue,\n    defaultValue: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, __jsx(Option, {\n    value: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, \"1\"), __jsx(Option, {\n    value: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, \"2\"), __jsx(Option, {\n    value: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, \"3\"), __jsx(Option, {\n    value: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, \"4\"));\n\n  const renderSemester = () => __jsx(Select, {\n    style: styles.inputNumber,\n    onChange: setValue,\n    defaultValue: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, __jsx(Option, {\n    value: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, \"1\"), __jsx(Option, {\n    value: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, \"2\"));\n\n  const renderSemesters = () => __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: 34\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, __jsx(\"input\", {\n    id: \"1\",\n    type: \"checkbox\",\n    value: firstIsChecked,\n    onChange: toggleCheckbox(1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }), __jsx(\"label\", {\n    style: styles.inputCheckboxLabel,\n    htmlFor: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, \"1\")), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, __jsx(\"input\", {\n    id: \"2\",\n    type: \"checkbox\",\n    value: secondIsChecked,\n    onChange: toggleCheckbox(2),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }), __jsx(\"label\", {\n    style: styles.inputCheckboxLabel,\n    htmlFor: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, \"2\")));\n\n  const renderAnnualYear = () => {\n    const today = new Date();\n    const currentYear = today.getFullYear();\n    const currentMonth = today.getMonth();\n    const yearShortform = currentYear % 2000; // eg. 2020 => 20\n\n    const currentSemester = currentMonth < 6 ? 2 : 1;\n    const currentAYSecondYear = currentSemester === 1 ? yearShortform + 1 : yearShortform; // if current semester is 2, then the second year of the AY is the current year\n\n    const yearMinusOne = currentAYSecondYear - 1;\n    const yearMinusTwo = currentAYSecondYear - 2;\n    const yearMinusThree = currentAYSecondYear - 3;\n    const yearMinusFour = currentAYSecondYear - 4;\n    return __jsx(Select, {\n      style: styles.inputNumber,\n      onChange: setValue,\n      defaultValue: value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 7\n      }\n    }, __jsx(Option, {\n      value: `${yearMinusOne}/${currentAYSecondYear}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }\n    }, \"AY\", yearMinusOne, \"/\", currentAYSecondYear), __jsx(Option, {\n      value: `${yearMinusTwo}/${yearMinusOne}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    }, \"AY\", yearMinusTwo, \"/\", yearMinusOne), __jsx(Option, {\n      value: `${yearMinusThree}/${yearMinusTwo}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }\n    }, \"AY\", yearMinusThree, \"/\", yearMinusTwo), __jsx(Option, {\n      value: `${yearMinusFour}/${yearMinusThree}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }, \"AY\", yearMinusFour, \"/\", yearMinusThree));\n  };\n\n  const renderUniversity = () => __jsx(Select, {\n    style: styles.inputNumber,\n    onChange: setValue,\n    defaultValue: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 5\n    }\n  }, __jsx(Option, {\n    value: \"NUS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, \"NUS\"), __jsx(Option, {\n    value: \"NTU\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }, \"NTU\"), __jsx(Option, {\n    value: \"SMU\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }\n  }, \"SMU\"));\n\n  const renderAutoComplete = () => __jsx(AutoComplete, {\n    style: styles.input,\n    options: searchOptions,\n    onSelect: setValue,\n    onSearch: searchText => setSearchOptions(options.filter(item => item.value.includes(searchText))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 5\n    }\n  });\n\n  const renderPrereq = () => {\n    const removeCode = removedCode => {\n      const filteredCodes = value.filter(code => code !== removedCode);\n      setValue(filteredCodes);\n    };\n\n    const renderTags = () => {\n      return value.map(code => __jsx(Tag, {\n        closable: true,\n        onClose: () => removeCode(code),\n        key: code,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 9\n        }\n      }, code));\n    };\n\n    const addModule = code => {\n      setValue(value.concat([code]));\n      setSearchTerm(\"\");\n    };\n\n    const onSearch = searchText => setSearchOptions(options.filter(item => item.value.includes(searchText.toUpperCase())));\n\n    const onChange = newSearchTerm => setSearchTerm(newSearchTerm);\n\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 7\n      }\n    }, __jsx(AutoComplete, {\n      style: styles.input,\n      onSelect: addModule,\n      options: searchOptions,\n      onSearch: onSearch,\n      value: searchTerm,\n      onChange: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }\n    }), __jsx(\"div\", {\n      style: {\n        marginTop: 10,\n        maxWidth: 390\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }\n    }, renderTags()));\n  };\n\n  const renderInputType = () => {\n    switch (type) {\n      case \"input\":\n        return renderInput();\n\n      case \"textarea\":\n        return renderTextArea();\n\n      case \"text\":\n        return renderText();\n\n      case \"rate\":\n        return renderRate();\n\n      case \"difficulty\":\n        return renderDifficulty();\n\n      case \"number\":\n        return renderNumber();\n\n      case \"year\":\n        return renderYear();\n\n      case \"semester\":\n        return renderSemester();\n\n      case \"semesters\":\n        return renderSemesters();\n\n      case \"annualYear\":\n        return renderAnnualYear();\n\n      case \"university\":\n        return renderUniversity();\n\n      case \"autocomplete\":\n        return renderAutoComplete();\n\n      case \"prereq\":\n        return renderPrereq();\n\n      default:\n        return renderInput();\n    }\n  };\n\n  return __jsx(\"div\", {\n    style: styles.labelContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 5\n    }\n  }, __jsx(\"label\", {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }\n  }, `${label}:`), renderInputType());\n};\n\nconst styles = {\n  labelContainer: {\n    display: \"flex\",\n    marginBottom: 20,\n    alignItems: \"flex-start\",\n    justifyContent: \"flex-start\"\n  },\n  label: {\n    width: 150,\n    marginTop: 5\n  },\n  input: {\n    width: 390,\n    maxWidth: 390\n  },\n  text: {\n    marginTop: 5\n  },\n  rateObjects: {// color: \"#000\",\n  },\n  inputNumber: {\n    width: 100\n  },\n  inputCheckboxLabel: {\n    margin: \"0px 20px 0px 10px\",\n    fontSize: 15\n  }\n};\nexport default FormModalItem;","map":{"version":3,"sources":["/Users/zhangxian/Desktop/RottenMods/frontend/components/FormModalItem.tsx"],"names":["useState","Input","InputNumber","Rate","Select","AutoComplete","Tag","TextArea","Option","FormModalItem","type","label","value","setValue","options","firstIsChecked","setFirstIsChecked","secondIsChecked","setSecondIsChecked","searchOptions","setSearchOptions","searchTerm","setSearchTerm","toggleCheckbox","index","event","newValue","parseInt","target","console","log","isChecked","renderInput","styles","input","e","renderTextArea","minRows","maxRows","renderText","text","renderRate","renderDifficulty","rateObjects","marginRight","renderNumber","inputNumber","renderYear","renderSemester","renderSemesters","display","alignItems","height","inputCheckboxLabel","renderAnnualYear","today","Date","currentYear","getFullYear","currentMonth","getMonth","yearShortform","currentSemester","currentAYSecondYear","yearMinusOne","yearMinusTwo","yearMinusThree","yearMinusFour","renderUniversity","renderAutoComplete","searchText","filter","item","includes","renderPrereq","removeCode","removedCode","filteredCodes","code","renderTags","map","addModule","concat","onSearch","toUpperCase","onChange","newSearchTerm","marginTop","maxWidth","renderInputType","labelContainer","marginBottom","justifyContent","width","margin","fontSize"],"mappings":"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","sourcesContent":["import { useState, Dispatch, SetStateAction } from \"react\";\n\nimport { Input, InputNumber, Rate, Select, AutoComplete, Tag } from \"antd\";\nconst { TextArea } = Input;\nconst { Option } = Select;\n\ninterface FormModalItemProps {\n  type:\n    | \"input\"\n    | \"textarea\"\n    | \"text\"\n    | \"rate\"\n    | \"numerical\"\n    | \"difficulty\"\n    | \"number\"\n    | \"semester\"\n    | \"university\"\n    | \"year\"\n    | \"annualYear\"\n    | \"semesters\"\n    | \"autocomplete\"\n    | \"prereq\";\n  label: string;\n  value: string | number | boolean[] | string[];\n  setValue?: Dispatch<SetStateAction<any>>;\n  options?: any[];\n}\n\nconst FormModalItem: React.FC<FormModalItemProps> = ({\n  type = \"input\",\n  label,\n  value,\n  setValue,\n  options,\n}) => {\n  const [firstIsChecked, setFirstIsChecked] = useState(0);\n  const [secondIsChecked, setSecondIsChecked] = useState(0);\n  const [searchOptions, setSearchOptions] = useState(options ?? []);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const toggleCheckbox = (index) => (event) => {\n    const newValue = parseInt(event.target.value) === 0 ? 1 : 0;\n    console.log(newValue, index);\n    const isChecked = newValue === 1;\n    if (index === 1) {\n      setFirstIsChecked(newValue);\n      setValue([isChecked, value[1]]);\n    } else {\n      setSecondIsChecked(newValue);\n      setValue([value[0], isChecked]);\n    }\n  };\n\n  const renderInput = () => (\n    <Input\n      style={styles.input}\n      value={value as string}\n      onChange={(e) => setValue(e.target.value)}\n    />\n  );\n\n  const renderTextArea = () => (\n    <TextArea\n      style={styles.input}\n      rows={4}\n      autoSize={{ minRows: 4, maxRows: 4 }}\n      value={value as string}\n      onChange={(e) => setValue(e.target.value)}\n    />\n  );\n\n  const renderText = () => <span style={styles.text}>{value}</span>;\n\n  const renderRate = () => (\n    <Rate defaultValue={value as number} onChange={setValue} />\n  );\n\n  const renderDifficulty = () => (\n    <Rate\n      defaultValue={value as number}\n      style={styles.rateObjects}\n      onChange={setValue}\n      character={({ index }) => {\n        return <span style={{ marginRight: 9 }}>{index + 1}</span>;\n      }}\n    />\n  );\n\n  const renderNumber = () => (\n    <InputNumber\n      style={styles.inputNumber}\n      value={(value as unknown) as number}\n      onChange={(e) => setValue(e as string)}\n    />\n  );\n\n  const renderYear = () => (\n    <Select style={styles.inputNumber} onChange={setValue} defaultValue={value}>\n      <Option value={1}>1</Option>\n      <Option value={2}>2</Option>\n      <Option value={3}>3</Option>\n      <Option value={4}>4</Option>\n    </Select>\n  );\n\n  const renderSemester = () => (\n    <Select style={styles.inputNumber} onChange={setValue} defaultValue={value}>\n      <Option value={1}>1</Option>\n      <Option value={2}>2</Option>\n    </Select>\n  );\n\n  const renderSemesters = () => (\n    <div style={{ display: \"flex\", alignItems: \"center\", height: 34 }}>\n      <div>\n        <input\n          id=\"1\"\n          type=\"checkbox\"\n          value={firstIsChecked}\n          onChange={toggleCheckbox(1)}\n        />\n        <label style={styles.inputCheckboxLabel} htmlFor=\"1\">\n          1\n        </label>\n      </div>\n      <div>\n        <input\n          id=\"2\"\n          type=\"checkbox\"\n          value={secondIsChecked}\n          onChange={toggleCheckbox(2)}\n        />\n        <label style={styles.inputCheckboxLabel} htmlFor=\"2\">\n          2\n        </label>\n      </div>\n    </div>\n  );\n\n  const renderAnnualYear = () => {\n    const today = new Date();\n    const currentYear = today.getFullYear();\n    const currentMonth = today.getMonth();\n    const yearShortform = currentYear % 2000; // eg. 2020 => 20\n    const currentSemester = currentMonth < 6 ? 2 : 1;\n    const currentAYSecondYear =\n      currentSemester === 1 ? yearShortform + 1 : yearShortform; // if current semester is 2, then the second year of the AY is the current year\n    const yearMinusOne = currentAYSecondYear - 1;\n    const yearMinusTwo = currentAYSecondYear - 2;\n    const yearMinusThree = currentAYSecondYear - 3;\n    const yearMinusFour = currentAYSecondYear - 4;\n    return (\n      <Select\n        style={styles.inputNumber}\n        onChange={setValue}\n        defaultValue={value}\n      >\n        <Option value={`${yearMinusOne}/${currentAYSecondYear}`}>\n          AY{yearMinusOne}/{currentAYSecondYear}\n        </Option>\n        <Option value={`${yearMinusTwo}/${yearMinusOne}`}>\n          AY{yearMinusTwo}/{yearMinusOne}\n        </Option>\n        <Option value={`${yearMinusThree}/${yearMinusTwo}`}>\n          AY{yearMinusThree}/{yearMinusTwo}\n        </Option>\n        <Option value={`${yearMinusFour}/${yearMinusThree}`}>\n          AY{yearMinusFour}/{yearMinusThree}\n        </Option>\n      </Select>\n    );\n  };\n\n  const renderUniversity = () => (\n    <Select style={styles.inputNumber} onChange={setValue} defaultValue={value}>\n      <Option value={\"NUS\"}>NUS</Option>\n      <Option value={\"NTU\"}>NTU</Option>\n      <Option value={\"SMU\"}>SMU</Option>\n    </Select>\n  );\n\n  const renderAutoComplete = () => (\n    <AutoComplete\n      style={styles.input}\n      options={searchOptions}\n      onSelect={setValue}\n      onSearch={(searchText) =>\n        setSearchOptions(\n          options.filter((item) => item.value.includes(searchText))\n        )\n      }\n    />\n  );\n\n  const renderPrereq = () => {\n    const removeCode = (removedCode) => {\n      const filteredCodes = (value as string[]).filter(\n        (code) => code !== removedCode\n      );\n      setValue(filteredCodes);\n    };\n\n    const renderTags = () => {\n      return (value as string[]).map((code) => (\n        <Tag closable onClose={() => removeCode(code)} key={code}>\n          {code}\n        </Tag>\n      ));\n    };\n\n    const addModule = (code) => {\n      setValue((value as string[]).concat([code]));\n      setSearchTerm(\"\");\n    };\n\n    const onSearch = (searchText) =>\n      setSearchOptions(\n        options.filter((item) => item.value.includes(searchText.toUpperCase()))\n      );\n\n    const onChange = (newSearchTerm) => setSearchTerm(newSearchTerm);\n\n    return (\n      <div>\n        <AutoComplete\n          style={styles.input}\n          onSelect={addModule}\n          options={searchOptions}\n          onSearch={onSearch}\n          value={searchTerm}\n          onChange={onChange}\n        />\n        <div style={{ marginTop: 10, maxWidth: 390 }}>{renderTags()}</div>\n      </div>\n    );\n  };\n\n  const renderInputType = () => {\n    switch (type) {\n      case \"input\":\n        return renderInput();\n      case \"textarea\":\n        return renderTextArea();\n      case \"text\":\n        return renderText();\n      case \"rate\":\n        return renderRate();\n      case \"difficulty\":\n        return renderDifficulty();\n      case \"number\":\n        return renderNumber();\n      case \"year\":\n        return renderYear();\n      case \"semester\":\n        return renderSemester();\n      case \"semesters\":\n        return renderSemesters();\n      case \"annualYear\":\n        return renderAnnualYear();\n      case \"university\":\n        return renderUniversity();\n      case \"autocomplete\":\n        return renderAutoComplete();\n      case \"prereq\":\n        return renderPrereq();\n      default:\n        return renderInput();\n    }\n  };\n\n  return (\n    <div style={styles.labelContainer}>\n      <label style={styles.label}>{`${label}:`}</label>\n      {renderInputType()}\n    </div>\n  );\n};\n\nconst styles = {\n  labelContainer: {\n    display: \"flex\",\n    marginBottom: 20,\n    alignItems: \"flex-start\",\n    justifyContent: \"flex-start\",\n  },\n  label: {\n    width: 150,\n    marginTop: 5,\n  },\n  input: {\n    width: 390,\n    maxWidth: 390,\n  },\n  text: {\n    marginTop: 5,\n  },\n  rateObjects: {\n    // color: \"#000\",\n  },\n  inputNumber: {\n    width: 100,\n  },\n  inputCheckboxLabel: {\n    margin: \"0px 20px 0px 10px\",\n    fontSize: 15,\n  },\n};\n\nexport default FormModalItem;\n"]},"metadata":{},"sourceType":"module"}