{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport authUtils from \"../utils/authentication\";\nimport LoginModal from \"./LoginModal\";\nimport SignupModal from \"./SignupModal\";\nimport { reviewBlue, codeBlue } from \"../styles/colors\";\nimport CustomButton from \"./Button\";\nimport AddCourseModal from \"./AddCourseModal\";\nimport AddSchoolModal from \"./AddSchoolModal\";\nimport AddModuleModal from \"./AddModuleModal\";\nimport { Button, Menu, Dropdown } from \"antd\";\nimport \"../styles/antd.less\";\n\nconst ProfileButton = () => {\n  const {\n    0: loginModalVisible,\n    1: setLoginModalVisible\n  } = useState(false);\n  const {\n    0: signupModalVisible,\n    1: setSignupModalVisible\n  } = useState(false);\n  const {\n    0: addCourseModalVisible,\n    1: setAddCourseModalVisible\n  } = useState(false);\n  const {\n    0: addSchoolModalVisible,\n    1: setAddSchoolModalVisible\n  } = useState(false);\n  const {\n    0: addModuleModalVisible,\n    1: setModuleModalVisible\n  } = useState(false);\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn);\n  const user = useSelector(state => state.auth.user);\n  const router = useRouter();\n  useEffect(() => {\n    if (isLoggedIn) {\n      setLoginModalVisible(false);\n    }\n  }), [isLoggedIn];\n\n  const toggleLoginModal = () => {\n    setLoginModalVisible(!loginModalVisible);\n  };\n\n  const toggleSignupModal = () => {\n    setSignupModalVisible(!signupModalVisible);\n  };\n\n  const switchModals = () => {\n    setSignupModalVisible(!signupModalVisible);\n    setLoginModalVisible(!loginModalVisible);\n  };\n\n  const navigateToProfilePage = () => {\n    router.push({\n      pathname: \"/profile\"\n    });\n  };\n\n  const logoutUser = () => {\n    authUtils.logOut();\n    router.push({\n      pathname: \"/home\"\n    });\n  };\n\n  const userMenu = __jsx(Menu, null, __jsx(Menu.Item, {\n    key: \"1\"\n  }, __jsx(Button, {\n    type: \"text\",\n    onClick: navigateToProfilePage\n  }, \"Profile\")), __jsx(Menu.Item, {\n    key: \"2\"\n  }, __jsx(Button, {\n    type: \"text\",\n    onClick: logoutUser\n  }, \"Log Out\")));\n\n  const addMenu = __jsx(Menu, null, __jsx(Menu.Item, {\n    key: \"1\"\n  }, __jsx(Button, {\n    type: \"text\",\n    onClick: () => {\n      setAddCourseModalVisible(true);\n    }\n  }, \"Add Course\")), __jsx(Menu.Item, {\n    key: \"2\"\n  }, __jsx(Button, {\n    type: \"text\",\n    onClick: () => {\n      setAddSchoolModalVisible(true);\n    }\n  }, \"Add School\")), __jsx(Menu.Item, {\n    key: \"3\"\n  }, __jsx(Button, {\n    type: \"text\",\n    onClick: () => {\n      setModuleModalVisible(true);\n    }\n  }, \"Add Module\")));\n\n  return __jsx(React.Fragment, null, isLoggedIn ? __jsx(React.Fragment, null, __jsx(Dropdown, {\n    overlay: addMenu,\n    placement: \"bottomCenter\"\n  }, __jsx(Button, {\n    style: styles.addModuleButton\n  }, \"Add\")), __jsx(Dropdown, {\n    overlay: userMenu,\n    placement: \"bottomLeft\"\n  }, __jsx(Button, {\n    style: styles.userButton\n  }, user.fullName))) : __jsx(CustomButton, {\n    style: styles.loginButton,\n    onClick: toggleLoginModal\n  }, \"Log In\"), loginModalVisible && !isLoggedIn ? __jsx(LoginModal, {\n    toggles: {\n      toggleLoginModal,\n      switchModals\n    }\n  }) : null, signupModalVisible ? __jsx(SignupModal, {\n    toggles: {\n      toggleSignupModal,\n      switchModals\n    }\n  }) : null, __jsx(AddCourseModal, {\n    isModalVisible: addCourseModalVisible,\n    setModalVisibility: setAddCourseModalVisible\n  }), __jsx(AddSchoolModal, {\n    isModalVisible: addSchoolModalVisible,\n    setModalVisibility: setAddSchoolModalVisible\n  }), __jsx(AddModuleModal, {\n    isModalVisible: addModuleModalVisible,\n    setModalVisibility: setModuleModalVisible\n  }));\n};\n\nconst styles = {\n  userButton: {\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: \"0px 10px\",\n    padding: 20,\n    backgroundColor: reviewBlue,\n    color: \"#fff\",\n    borderRadius: 8\n  },\n  userName: {\n    alignItems: \"flex-end\",\n    paddingLeft: \"10px\",\n    margin: 0,\n    fontSize: 15\n  },\n  loginButton: {\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: \"0px 10px\",\n    padding: 10,\n    backgroundColor: reviewBlue,\n    color: \"#fff\",\n    borderRadius: 8\n  },\n  addModuleButton: {\n    display: \"flex\",\n    alignItems: \"center\",\n    margin: \"0px 10px\",\n    padding: 20,\n    backgroundColor: codeBlue,\n    color: \"#fff\",\n    borderRadius: 8\n  }\n};\nexport default ProfileButton;","map":null,"metadata":{},"sourceType":"module"}