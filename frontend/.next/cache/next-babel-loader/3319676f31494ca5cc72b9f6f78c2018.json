{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/ChesterSim/Desktop/NUS Computer Science/CS3219/cs3219-ay2021-s1-project-2020-s1-g01/frontend/components/ModulePill.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport moduleApi from \"../api/module\";\nimport { Tooltip } from \"antd\";\nimport Button from \"./Button\";\nimport { codeBlue, crossRed } from \"../styles/colors\";\n\nvar ModulePill = function ModulePill(_ref) {\n  _s();\n\n  var modId = _ref.modId,\n      missingPrereqs = _ref.missingPrereqs,\n      moduleCode = _ref.moduleCode;\n  var router = useRouter();\n\n  var _useState = useState(\"\"),\n      code = _useState[0],\n      setCode = _useState[1];\n\n  useEffect(function () {\n    getModuleCode();\n  }, []);\n\n  var getModuleCode = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var module;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!modId) {\n                _context.next = 5;\n                break;\n              }\n\n              _context.next = 3;\n              return moduleApi.getModule(modId);\n\n            case 3:\n              module = _context.sent;\n              setCode(module.code);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getModuleCode() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var navigateToModuleReview = function navigateToModuleReview() {\n    router.push({\n      pathname: \"/module-review\",\n      query: {\n        id: modId\n      }\n    });\n  };\n\n  return __jsx(Button, {\n    style: styles.container,\n    onClick: navigateToModuleReview,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, code, missingPrereqs && missingPrereqs.length !== 0 && __jsx(Tooltip, {\n    title: \"Missing prereqs: \".concat(missingPrereqs.map(function (mod) {\n      return mod.code;\n    }).join(\", \")),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: styles.warningButton,\n    onClick: function onClick() {},\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, \"i\")));\n};\n\n_s(ModulePill, \"Q0Nbb6HzFBkSOaMkXIHMf2eTkyM=\", false, function () {\n  return [useRouter];\n});\n\n_c = ModulePill;\nvar styles = {\n  container: {\n    padding: 12,\n    backgroundColor: codeBlue,\n    color: \"#fff\",\n    borderRadius: 10,\n    boxShadow: \"0px 8px 8px rgba(0, 0, 0, 0.25)\",\n    marginRight: 10,\n    position: \"relative\"\n  },\n  warningButton: {\n    position: \"absolute\",\n    top: -8,\n    right: -8,\n    backgroundColor: crossRed,\n    height: 20,\n    width: 20,\n    borderRadius: 10,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    fontSize: 12,\n    boxShadow: \"0px 8px 8px rgba(0, 0, 0, 0.25)\",\n    cursor: \"pointer\"\n  }\n};\nexport default ModulePill;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModulePill\");","map":{"version":3,"sources":["/Users/ChesterSim/Desktop/NUS Computer Science/CS3219/cs3219-ay2021-s1-project-2020-s1-g01/frontend/components/ModulePill.tsx"],"names":["useEffect","useState","useRouter","moduleApi","Tooltip","Button","codeBlue","crossRed","ModulePill","modId","missingPrereqs","moduleCode","router","code","setCode","getModuleCode","getModule","module","navigateToModuleReview","push","pathname","query","id","styles","container","length","map","mod","join","warningButton","padding","backgroundColor","color","borderRadius","boxShadow","marginRight","position","top","right","height","width","display","justifyContent","alignItems","fontSize","cursor"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport moduleApi from \"../api/module\";\nimport { Module } from \"../types\";\n\nimport { Tooltip } from \"antd\";\nimport Button from \"./Button\";\nimport { codeBlue, crossRed } from \"../styles/colors\";\n\ninterface ModulePillProps {\n  modId: string;\n  missingPrereqs?: Module[];\n  moduleCode: string;\n}\n\nconst ModulePill: React.FC<ModulePillProps> = ({ modId, missingPrereqs, moduleCode }) => {\n  const router = useRouter();\n  const [code, setCode] = useState(\"\");\n\n  useEffect(() => {\n    getModuleCode();\n  }, []);\n\n  const getModuleCode = async () => {\n    if (modId) {\n      const module: Module = await moduleApi.getModule(modId);\n      setCode(module.code);\n    }\n  };\n\n  const navigateToModuleReview = () => {\n    router.push({\n      pathname: \"/module-review\",\n      query: {\n        id: modId,\n      },\n    });\n  };\n\n  return (\n    <Button style={styles.container} onClick={navigateToModuleReview}>\n      {code}\n      {missingPrereqs && missingPrereqs.length !== 0 && (\n        <Tooltip\n          title={`Missing prereqs: ${missingPrereqs\n            .map((mod) => mod.code)\n            .join(\", \")}`}\n        >\n          <div style={styles.warningButton} onClick={() => {}}>\n            i\n          </div>\n        </Tooltip>\n      )}\n    </Button>\n  );\n};\n\nconst styles = {\n  container: {\n    padding: 12,\n    backgroundColor: codeBlue,\n    color: \"#fff\",\n    borderRadius: 10,\n    boxShadow: \"0px 8px 8px rgba(0, 0, 0, 0.25)\",\n    marginRight: 10,\n    position: \"relative\" as \"relative\",\n  },\n  warningButton: {\n    position: \"absolute\" as \"absolute\",\n    top: -8,\n    right: -8,\n    backgroundColor: crossRed,\n    height: 20,\n    width: 20,\n    borderRadius: 10,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    fontSize: 12,\n    boxShadow: \"0px 8px 8px rgba(0, 0, 0, 0.25)\",\n    cursor: \"pointer\",\n  },\n};\n\nexport default ModulePill;\n"]},"metadata":{},"sourceType":"module"}