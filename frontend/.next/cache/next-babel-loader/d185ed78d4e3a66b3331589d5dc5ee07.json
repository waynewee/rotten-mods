{"ast":null,"code":"var _jsxFileName = \"/Users/zhangxian/Desktop/RottenMods/frontend/components/SignupModal.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport { Modal, Button, Form, Input, Divider, Select } from 'antd';\nimport { UserOutlined, LockOutlined, MailOutlined, CalendarOutlined } from '@ant-design/icons';\nimport { codeBlue } from \"../styles/colors\";\nimport axios from 'axios';\n\nconst SignupModal = toggles => {\n  const {\n    0: inputUniversityValues,\n    1: setUniversityInputValues\n  } = useState([\"\"]);\n  const {\n    0: inputCourseValues,\n    1: setCourseInputValues\n  } = useState([\"Computer Science\"]);\n  const {\n    0: universityName,\n    1: setUniversityName\n  } = useState(\"\");\n  const {\n    0: courseName,\n    1: setCourseName\n  } = useState(\"\");\n  useEffect(() => {\n    populateSchools();\n    populateCourses();\n  }, []);\n\n  const populateSchools = () => {\n    axios({\n      method: 'get',\n      url: '/school',\n      baseURL: 'http://localhost:8080/api'\n    }).then(function (response) {\n      const schoolsInDatabase = response.data.map(obj => obj.name);\n      setUniversityInputValues(schoolsInDatabase);\n      console.log(response.data);\n    }).then(function (error) {\n      console.log(error);\n    });\n  };\n\n  const populateCourses = () => {\n    axios({\n      method: 'get',\n      url: '/courses',\n      baseURL: 'http://localhost:8080/api'\n    }).then(function (response) {\n      const coursesInDatabase = response.data.map(obj => obj.name);\n      setCourseInputValues(coursesInDatabase);\n      console.log(response.data);\n    }).then(function (error) {\n      console.log(error);\n    });\n  };\n\n  const onFormFinish = signUpValues => {\n    console.log(signUpValues); // axios({\n    //     method: 'put',\n    //     url: '/user',\n    //     baseURL: 'http://localhost:8080/api',\n    //     params : {\n    //         email : signUpValues.emailaddress,\n    //         password: signUpValues.userpassword,\n    //         name: signUpValues.fullname,\n    //         schoolId: signUpValues.university,\n    //         courseId: signUpValues.course,\n    //         yearOfStudy: signUpValues.yearofstudy\n    //     }\n    // }).then(function(response) {\n    //     console.log(response);\n    // }).catch(function(error) {\n    //     console.log(error);\n    // })\n  };\n\n  const onUniversityChange = event => {\n    console.log(\"changing\");\n    setUniversityName(event.target.value);\n  };\n\n  const onCourseChange = event => {\n    setCourseName(event.target.value);\n  };\n\n  const addUniversityItem = () => {\n    setUniversityName(\"\");\n\n    if (universityName.trim() !== \"\" && !inputUniversityValues.includes(universityName)) {\n      console.log('adduniItem');\n      setUniversityInputValues([...inputUniversityValues, universityName.trim()]);\n    }\n  };\n\n  const addCourseItem = () => {\n    console.log('adduniItem');\n    setCourseName(\"\");\n\n    if (courseName.trim() !== \"\" && !inputCourseValues.includes(courseName)) {\n      setCourseInputValues([...inputCourseValues, courseName.trim()]);\n    }\n  };\n\n  function renderAddition(addition) {\n    if (addition == \"university\") {\n      return __jsx(\"div\", {\n        style: {\n          display: 'flex',\n          flexWrap: 'nowrap',\n          padding: 8\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }\n      }, __jsx(Input, {\n        style: {\n          flex: 'auto'\n        },\n        value: universityName,\n        onChange: onUniversityChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }\n      }), __jsx(\"a\", {\n        style: {\n          flex: 'none',\n          padding: '8px',\n          display: 'block',\n          cursor: 'pointer'\n        },\n        onClick: addUniversityItem,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      }, \"ADD\"));\n    } else {\n      return __jsx(\"div\", {\n        style: {\n          display: 'flex',\n          flexWrap: 'nowrap',\n          padding: 8\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 9\n        }\n      }, __jsx(Input, {\n        style: {\n          flex: 'auto'\n        },\n        value: courseName,\n        onChange: onCourseChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }\n      }), __jsx(\"a\", {\n        style: {\n          flex: 'none',\n          padding: '8px',\n          display: 'block',\n          cursor: 'pointer'\n        },\n        onClick: addCourseItem,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }\n      }, \"ADD\"));\n    }\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Modal, {\n    visible: true,\n    title: __jsx(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }\n    }, \" SIGNUP \"),\n    centered: true,\n    onCancel: toggles.toggles.toggleSignupModal,\n    footer: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }, __jsx(Form, {\n    name: \"normal_signup\",\n    className: \"signup-form\",\n    initialValues: {},\n    onFinish: onFormFinish,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, __jsx(Form.Item, {\n    name: \"fullname\",\n    rules: [{\n      required: true,\n      message: 'Please enter your full name!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    prefix: __jsx(UserOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 28\n      }\n    }),\n    placeholder: \"Full Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    name: \"emailaddress\",\n    rules: [{\n      required: true,\n      message: 'Please enter an email address!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    prefix: __jsx(MailOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 23\n      }\n    }),\n    placeholder: \"Email Address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    name: \"userpassword\",\n    rules: [{\n      required: true,\n      message: 'Please enter a password!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    prefix: __jsx(LockOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 23\n      }\n    }),\n    type: \"password\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    style: {\n      marginBottom: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, __jsx(Form.Item, {\n    name: \"yearofstudy\",\n    rules: [{\n      required: true,\n      message: 'Please enter your Year of Study!'\n    }],\n    style: {\n      display: 'inline-block',\n      width: 'calc(50% - 8px)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, __jsx(Input, {\n    prefix: __jsx(CalendarOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 30\n      }\n    }),\n    placeholder: \"Year Of Study\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  })), __jsx(Form.Item, {\n    name: \"university\",\n    rules: [{\n      required: true,\n      message: 'Please enter your University!'\n    }],\n    style: {\n      display: 'inline-block',\n      width: 'calc(50% - 8px)',\n      margin: '0 8px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }\n  }, __jsx(Select, {\n    showSearch: true,\n    style: {\n      width: \"100%\"\n    },\n    placeholder: \"University\",\n    dropdownRender: menu => __jsx(React.Fragment, null, menu, __jsx(Divider, {\n      style: {\n        margin: '4px 0'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }\n    }), renderAddition(\"university\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  }, inputUniversityValues.map(item => __jsx(Select.Option, {\n    key: item,\n    value: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 19\n    }\n  }, item))))), __jsx(Form.Item, {\n    name: \"course\",\n    rules: [{\n      required: true,\n      message: 'Please enter the name of the course you are enrolled in!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, __jsx(Select, {\n    style: {\n      width: \"100%\"\n    },\n    placeholder: \"Course Of Study\",\n    value: \"Default\",\n    dropdownRender: menu => __jsx(React.Fragment, null, menu, __jsx(Divider, {\n      style: {\n        margin: '4px 0'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 19\n      }\n    }), renderAddition(\"course\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, inputCourseValues.map(item => __jsx(Select.Option, {\n    key: item,\n    value: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, item)))), __jsx(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    style: styles.loginFormButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }\n  }, \"SIGN UP\"))), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }, \"Already have an account? Log in \", __jsx(\"a\", {\n    onClick: () => toggles.toggles.switchModals(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 43\n    }\n  }, \" here\"))));\n};\n\nconst styles = {\n  loginFormButton: {\n    width: \"100%\",\n    backgroundColor: codeBlue\n  }\n};\nexport default SignupModal;","map":{"version":3,"sources":["/Users/zhangxian/Desktop/RottenMods/frontend/components/SignupModal.tsx"],"names":["useState","useEffect","Modal","Button","Form","Input","Divider","Select","UserOutlined","LockOutlined","MailOutlined","CalendarOutlined","codeBlue","axios","SignupModal","toggles","inputUniversityValues","setUniversityInputValues","inputCourseValues","setCourseInputValues","universityName","setUniversityName","courseName","setCourseName","populateSchools","populateCourses","method","url","baseURL","then","response","schoolsInDatabase","data","map","obj","name","console","log","error","coursesInDatabase","onFormFinish","signUpValues","onUniversityChange","event","target","value","onCourseChange","addUniversityItem","trim","includes","addCourseItem","renderAddition","addition","display","flexWrap","padding","flex","cursor","textAlign","toggleSignupModal","required","message","marginBottom","width","margin","menu","item","styles","loginFormButton","switchModals","backgroundColor"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\n\nimport { Modal, Button, Form, Input, Divider, Select, ConfigProvider } from 'antd';\nimport { UserOutlined, LockOutlined, MailOutlined, LaptopOutlined, CalendarOutlined, PlusOutlined } from '@ant-design/icons';\nimport { codeBlue } from \"../styles/colors\";\n\nimport axios from 'axios';\n\n\n\n\ninterface SignupModalProps {\n  toggles: {\n    toggleSignupModal: () => void;\n    switchModals: () => void;\n  }\n}\n\nconst SignupModal: React.FC<SignupModalProps> = (toggles) => {\n\n  const [inputUniversityValues, setUniversityInputValues] = useState([\"\"]);\n  const [inputCourseValues, setCourseInputValues] = useState([\"Computer Science\"]);\n  const [universityName, setUniversityName] = useState(\"\");\n  const [courseName, setCourseName] = useState(\"\");\n\n  useEffect(() => {\n    populateSchools();\n    populateCourses();\n  }, []);\n\n  const populateSchools = () => {\n    axios({\n      method: 'get',\n      url: '/school',\n      baseURL: 'http://localhost:8080/api',\n    }).then(function(response) {\n      const schoolsInDatabase = response.data.map(obj => obj.name);\n      setUniversityInputValues(schoolsInDatabase);\n      console.log(response.data);\n    }).then(function (error) {\n      console.log(error);\n    })\n  }\n\n  const populateCourses = () => {\n    axios({\n      method: 'get',\n      url: '/courses',\n      baseURL: 'http://localhost:8080/api',\n    }).then(function(response) {\n      const coursesInDatabase = response.data.map(obj => obj.name);\n      setCourseInputValues(coursesInDatabase);\n      console.log(response.data);\n    }).then(function (error) {\n      console.log(error);\n    })\n  }\n\n\n\n  const onFormFinish = signUpValues => {\n    console.log(signUpValues);\n\n\n    // axios({\n    //     method: 'put',\n    //     url: '/user',\n    //     baseURL: 'http://localhost:8080/api',\n    //     params : {\n    //         email : signUpValues.emailaddress,\n    //         password: signUpValues.userpassword,\n    //         name: signUpValues.fullname,\n    //         schoolId: signUpValues.university,\n    //         courseId: signUpValues.course,\n    //         yearOfStudy: signUpValues.yearofstudy\n    //     }\n    // }).then(function(response) {\n    //     console.log(response);\n    // }).catch(function(error) {\n    //     console.log(error);\n    // })\n\n  }\n\n  const onUniversityChange = event => {\n    console.log(\"changing\");\n    setUniversityName(event.target.value);\n  };\n\n  const onCourseChange = event => {\n    setCourseName(event.target.value);\n  };\n\n  const addUniversityItem = () => {\n    setUniversityName(\"\");\n    if (universityName.trim() !== \"\" && !inputUniversityValues.includes(universityName)) {\n      console.log('adduniItem');\n      setUniversityInputValues([...inputUniversityValues, universityName.trim()]);\n    }\n  };\n\n  const addCourseItem = () => {\n    console.log('adduniItem');\n    setCourseName(\"\");\n    if (courseName.trim() !== \"\" && !inputCourseValues.includes(courseName)) {\n      setCourseInputValues([...inputCourseValues, courseName.trim()]);\n    }\n  };\n\n  function renderAddition(addition) {\n    if (addition == \"university\") {\n      return (\n        <div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\n          <Input style={{ flex: 'auto' }} value={universityName} onChange={onUniversityChange} />\n          <a\n            style={{ flex: 'none', padding: '8px', display: 'block', cursor: 'pointer' }}\n            onClick={addUniversityItem}>\n            ADD\n            </a>\n        </div>\n      );\n    } else {\n      return (\n        <div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\n          <Input style={{ flex: 'auto' }} value={courseName} onChange={onCourseChange} />\n          <a\n            style={{ flex: 'none', padding: '8px', display: 'block', cursor: 'pointer' }}\n            onClick={addCourseItem}>\n            ADD\n            </a>\n        </div>\n      );\n    }\n  }\n\n\n  return (\n    <>\n\n      <Modal\n        visible={true}\n        title={\n          <div style={{ textAlign: \"center\" }}> SIGNUP </div>\n        }\n        centered\n        onCancel={toggles.toggles.toggleSignupModal}\n        footer={null}>\n        <Form\n          name=\"normal_signup\"\n          className=\"signup-form\"\n          initialValues={{}}\n          onFinish={onFormFinish}>\n          <Form.Item\n            name=\"fullname\"\n            rules={[{ required: true, message: 'Please enter your full name!' }]}\n          >\n            <Input prefix={<UserOutlined />} placeholder=\"Full Name\" />\n          </Form.Item>\n          <Form.Item\n            name=\"emailaddress\"\n            rules={[{ required: true, message: 'Please enter an email address!' }]}\n          >\n            <Input\n              prefix={<MailOutlined />} placeholder=\"Email Address\" />\n          </Form.Item>\n          <Form.Item\n            name=\"userpassword\"\n            rules={[{ required: true, message: 'Please enter a password!' }]}\n          >\n            <Input\n              prefix={<LockOutlined />}\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n          </Form.Item>\n\n          <Form.Item style={{ marginBottom: 0 }}>\n            <Form.Item\n              name=\"yearofstudy\"\n              rules={[{ required: true, message: 'Please enter your Year of Study!' }]}\n              style={{ display: 'inline-block', width: 'calc(50% - 8px)' }}\n            >\n              <Input prefix={<CalendarOutlined />} placeholder=\"Year Of Study\" />\n            </Form.Item>\n            <Form.Item\n              name=\"university\"\n              rules={[{ required: true, message: 'Please enter your University!' }]}\n              style={{ display: 'inline-block', width: 'calc(50% - 8px)', margin: '0 8px' }}\n            >\n              <Select\n                showSearch\n                style={{ width: \"100%\" }}\n                placeholder=\"University\"\n                dropdownRender={menu => (\n                  <>\n                    {menu}\n                    <Divider style={{ margin: '4px 0' }} />\n                    {renderAddition(\"university\")}\n                  </>\n                )}\n              >\n                {inputUniversityValues.map(item => (\n                  <Select.Option key={item} value={item}>{item}</Select.Option>\n                ))}\n              </Select>\n\n            </Form.Item>\n          </Form.Item>\n          <Form.Item\n            name=\"course\"\n            rules={[{ required: true, message: 'Please enter the name of the course you are enrolled in!' }]}\n          >\n            <Select\n              style={{ width: \"100%\" }}\n              placeholder=\"Course Of Study\"\n              value = \"Default\"\n              dropdownRender={menu => (\n                <>\n                  {menu}\n                  <Divider style={{ margin: '4px 0' }} />\n                  {renderAddition(\"course\")}\n                </>\n              )}\n            >\n              {inputCourseValues.map(item => (\n                <Select.Option key={item} value={item}>{item}</Select.Option>\n              ))}\n            </Select>\n\n          </Form.Item>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\" style={styles.loginFormButton}>SIGN UP</Button>\n          </Form.Item>\n\n\n        </Form>\n        <Divider />\n        <div style={{ textAlign: \"center\" }}>\n          Already have an account? Log in <a onClick={() => toggles.toggles.switchModals()}> here</a>\n        </div>\n\n      </Modal>\n    </>\n  );\n\n\n};\n\nconst styles = {\n    loginFormButton: {\n        width: \"100%\",\n        backgroundColor: codeBlue,\n    }\n}\n\n\nexport default SignupModal;"]},"metadata":{},"sourceType":"module"}