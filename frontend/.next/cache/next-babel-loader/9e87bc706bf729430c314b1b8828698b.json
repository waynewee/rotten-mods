{"ast":null,"code":"import axios from \"axios\";\nconst reviewBaseUrl = \"http://localhost:8080/api/review\";\nconst ratingBaseUrl = \"http://localhost:8080/api/rating\";\n\nconst getReviewsOfModule = async modId => {\n  const response = await axios.get(`${reviewBaseUrl}/mod/${modId}`);\n  return response.data;\n};\n\nconst addReviewOfModule = async (review, modId, userId) => {\n  const {\n    text,\n    semesterTaken,\n    yearTaken,\n    workload\n  } = review;\n  const response = await axios.post(reviewBaseUrl, {\n    text,\n    modId,\n    userId,\n    semesterTaken,\n    yearTaken,\n    workload\n  }, {\n    withCredentials: true\n  });\n  console.log(`Post Review:`, response.status);\n  return response.status;\n};\n\nconst addRatingOfModule = async (value, type, userId, modId) => {\n  const response = await axios.post(ratingBaseUrl, {\n    type,\n    userId,\n    modId,\n    value\n  }, {\n    withCredentials: true\n  });\n  console.log(`${type}:`, response.status);\n  return response.status;\n};\n\nexport default {\n  getReviewsOfModule,\n  addReviewOfModule,\n  addRatingOfModule\n};","map":{"version":3,"sources":["/Users/zhangxian/Desktop/RottenMods/frontend/api/review.ts"],"names":["axios","reviewBaseUrl","ratingBaseUrl","getReviewsOfModule","modId","response","get","data","addReviewOfModule","review","userId","text","semesterTaken","yearTaken","workload","post","withCredentials","console","log","status","addRatingOfModule","value","type"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,MAAMC,aAAa,GAAG,kCAAtB;AACA,MAAMC,aAAa,GAAG,kCAAtB;;AASA,MAAMC,kBAAkB,GAAG,MAAOC,KAAP,IAAiB;AAC1C,QAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAW,GAAEL,aAAc,QAAOG,KAAM,EAAxC,CAAvB;AACA,SAAOC,QAAQ,CAACE,IAAhB;AACD,CAHD;;AAKA,MAAMC,iBAAiB,GAAG,OACxBC,MADwB,EAExBL,KAFwB,EAGxBM,MAHwB,KAIrB;AACH,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,aAAR;AAAuBC,IAAAA,SAAvB;AAAkCC,IAAAA;AAAlC,MAA+CL,MAArD;AACA,QAAMJ,QAAQ,GAAG,MAAML,KAAK,CAACe,IAAN,CAAWd,aAAX,EAA0B;AAC/CU,IAAAA,IAD+C;AAE/CP,IAAAA,KAF+C;AAG/CM,IAAAA,MAH+C;AAI/CE,IAAAA,aAJ+C;AAK/CC,IAAAA,SAL+C;AAM/CC,IAAAA;AAN+C,GAA1B,EAOrB;AACAE,IAAAA,eAAe,EAAC;AADhB,GAPqB,CAAvB;AAWAC,EAAAA,OAAO,CAACC,GAAR,CAAa,cAAb,EAA4Bb,QAAQ,CAACc,MAArC;AACA,SAAOd,QAAQ,CAACc,MAAhB;AACD,CAnBD;;AAqBA,MAAMC,iBAAiB,GAAG,OACxBC,KADwB,EAExBC,IAFwB,EAGxBZ,MAHwB,EAIxBN,KAJwB,KAKrB;AACH,QAAMC,QAAQ,GAAG,MAAML,KAAK,CAACe,IAAN,CAAWb,aAAX,EAA0B;AAC/CoB,IAAAA,IAD+C;AAE/CZ,IAAAA,MAF+C;AAG/CN,IAAAA,KAH+C;AAI/CiB,IAAAA;AAJ+C,GAA1B,EAKpB;AACDL,IAAAA,eAAe,EAAE;AADhB,GALoB,CAAvB;AASAC,EAAAA,OAAO,CAACC,GAAR,CAAa,GAAEI,IAAK,GAApB,EAAwBjB,QAAQ,CAACc,MAAjC;AACA,SAAOd,QAAQ,CAACc,MAAhB;AACD,CAjBD;;AAmBA,eAAe;AACbhB,EAAAA,kBADa;AAEbK,EAAAA,iBAFa;AAGbY,EAAAA;AAHa,CAAf","sourcesContent":["import axios from \"axios\";\nimport { Review } from \"../types\";\n\nconst reviewBaseUrl = \"http://localhost:8080/api/review\";\nconst ratingBaseUrl = \"http://localhost:8080/api/rating\";\n\ninterface ReviewToSubmit {\n  text: string;\n  semesterTaken: number;\n  yearTaken: number;\n  workload: number;\n}\n\nconst getReviewsOfModule = async (modId) => {\n  const response = await axios.get(`${reviewBaseUrl}/mod/${modId}`);\n  return response.data;\n};\n\nconst addReviewOfModule = async (\n  review: ReviewToSubmit,\n  modId: string,\n  userId: string\n) => {\n  const { text, semesterTaken, yearTaken, workload } = review;\n  const response = await axios.post(reviewBaseUrl, {\n    text,\n    modId,\n    userId,\n    semesterTaken,\n    yearTaken,\n    workload,\n  },{\n    withCredentials:true\n  });\n\n  console.log(`Post Review:`, response.status);\n  return response.status;\n};\n\nconst addRatingOfModule = async (\n  value: number,\n  type: \"difficulty\" | \"star\",\n  userId: string,\n  modId: string\n) => {\n  const response = await axios.post(ratingBaseUrl, {\n    type,\n    userId,\n    modId,\n    value,\n  }, {\n    withCredentials: true\n  });\n\n  console.log(`${type}:`, response.status);\n  return response.status;\n};\n\nexport default {\n  getReviewsOfModule,\n  addReviewOfModule,\n  addRatingOfModule,\n};\n"]},"metadata":{},"sourceType":"module"}