{"ast":null,"code":"import axios from \"axios\";\nconst reviewBaseUrl = \"http://localhost:8080/api/review\";\nconst ratingBaseUrl = \"http://localhost:8080/api/rating\";\n\nconst getReviewsOfModule = async modId => {\n  const response = await axios.get(`${reviewBaseUrl}/mod/${modId}`);\n  return response.data;\n};\n\nconst addReviewOfModule = async (review, modId, userId) => {\n  const {\n    text,\n    semesterTaken,\n    acadYearTaken\n  } = review;\n  const response = await axios.post(reviewBaseUrl, {\n    text,\n    modId,\n    userId,\n    semesterTaken,\n    acadYearTaken // workload,\n\n  }, {\n    withCredentials: true\n  });\n  return response.status;\n};\n\nconst addRatingOfModule = async (value, type, userId, subId, sub) => {\n  const response = await axios.post(ratingBaseUrl, {\n    type,\n    userId,\n    subId,\n    value,\n    sub\n  }, {\n    withCredentials: true\n  });\n  return response.status;\n};\n\nexport default {\n  getReviewsOfModule,\n  addReviewOfModule,\n  addRatingOfModule\n};","map":{"version":3,"sources":["/Users/zhangxian/Desktop/RottenMods/frontend/api/review.ts"],"names":["axios","reviewBaseUrl","ratingBaseUrl","getReviewsOfModule","modId","response","get","data","addReviewOfModule","review","userId","text","semesterTaken","acadYearTaken","post","withCredentials","status","addRatingOfModule","value","type","subId","sub"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,MAAMC,aAAa,GAAG,kCAAtB;AACA,MAAMC,aAAa,GAAG,kCAAtB;;AASA,MAAMC,kBAAkB,GAAG,MAAOC,KAAP,IAAiB;AAC1C,QAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAW,GAAEL,aAAc,QAAOG,KAAM,EAAxC,CAAvB;AACA,SAAOC,QAAQ,CAACE,IAAhB;AACD,CAHD;;AAKA,MAAMC,iBAAiB,GAAG,OACxBC,MADwB,EAExBL,KAFwB,EAGxBM,MAHwB,KAIrB;AACH,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,aAAR;AAAuBC,IAAAA;AAAvB,MAAyCJ,MAA/C;AACA,QAAMJ,QAAQ,GAAG,MAAML,KAAK,CAACc,IAAN,CACrBb,aADqB,EAErB;AACEU,IAAAA,IADF;AAEEP,IAAAA,KAFF;AAGEM,IAAAA,MAHF;AAIEE,IAAAA,aAJF;AAKEC,IAAAA,aALF,CAME;;AANF,GAFqB,EAUrB;AACEE,IAAAA,eAAe,EAAE;AADnB,GAVqB,CAAvB;AAeA,SAAOV,QAAQ,CAACW,MAAhB;AACD,CAtBD;;AAwBA,MAAMC,iBAAiB,GAAG,OACxBC,KADwB,EAExBC,IAFwB,EAGxBT,MAHwB,EAIxBU,KAJwB,EAKxBC,GALwB,KAMrB;AACH,QAAMhB,QAAQ,GAAG,MAAML,KAAK,CAACc,IAAN,CACrBZ,aADqB,EAErB;AACEiB,IAAAA,IADF;AAEET,IAAAA,MAFF;AAGEU,IAAAA,KAHF;AAIEF,IAAAA,KAJF;AAKEG,IAAAA;AALF,GAFqB,EASrB;AACEN,IAAAA,eAAe,EAAE;AADnB,GATqB,CAAvB;AAcA,SAAOV,QAAQ,CAACW,MAAhB;AACD,CAtBD;;AAwBA,eAAe;AACbb,EAAAA,kBADa;AAEbK,EAAAA,iBAFa;AAGbS,EAAAA;AAHa,CAAf","sourcesContent":["import axios from \"axios\";\nimport { Review } from \"../types\";\n\nconst reviewBaseUrl = \"http://localhost:8080/api/review\";\nconst ratingBaseUrl = \"http://localhost:8080/api/rating\";\n\ninterface ReviewToSubmit {\n  text: string;\n  semesterTaken: number;\n  acadYearTaken: string;\n  // workload: number;\n}\n\nconst getReviewsOfModule = async (modId) => {\n  const response = await axios.get(`${reviewBaseUrl}/mod/${modId}`);\n  return response.data;\n};\n\nconst addReviewOfModule = async (\n  review: ReviewToSubmit,\n  modId: string,\n  userId: string\n) => {\n  const { text, semesterTaken, acadYearTaken } = review;\n  const response = await axios.post(\n    reviewBaseUrl,\n    {\n      text,\n      modId,\n      userId,\n      semesterTaken,\n      acadYearTaken,\n      // workload,\n    },\n    {\n      withCredentials: true,\n    }\n  );\n\n  return response.status;\n};\n\nconst addRatingOfModule = async (\n  value: number,\n  type: \"difficulty\" | \"star\",\n  userId: string,\n  subId: string,\n  sub: \"mod\" | \"school\" | \"course\"\n) => {\n  const response = await axios.post(\n    ratingBaseUrl,\n    {\n      type,\n      userId,\n      subId,\n      value,\n      sub,\n    },\n    {\n      withCredentials: true,\n    }\n  );\n\n  return response.status;\n};\n\nexport default {\n  getReviewsOfModule,\n  addReviewOfModule,\n  addRatingOfModule,\n};\n"]},"metadata":{},"sourceType":"module"}