_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{"3Pwz":function(e,t,a){"use strict";var n=a("rePB"),r=a("q1tI"),i=a.n(r),o=a("xQut"),c=a("xwfA"),s=i.a.createElement;function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={seeMoreButtonContainer:{display:"flex",justifyContent:"center"},seeMoreButton:{backgroundColor:c.h,boxShadow:"0px 8px 8px rgba(0, 0, 0, 0.25)",padding:12,borderRadius:10,color:"#fff"}};t.a=function(e){var t=e.style,a=e.fetchMoreData;return s("div",{style:d.seeMoreButtonContainer},s(o.a,{onClick:a,style:u(u({},d.seeMoreButton),t)},"See More"))}},"8Skl":function(e,t,a){"use strict";var n=a("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},i=a("6VBw"),o=function(e,t){return n.createElement(i.a,Object.assign({},e,{ref:t,icon:r}))};o.displayName="DownOutlined";t.a=n.forwardRef(o)},Q3Rx:function(e,t,a){"use strict";var n=a("wx14"),r=a("q1tI"),i=a.n(r).a.createElement;t.a=function(e){return i("svg",Object(n.a)({"aria-hidden":"true","data-prefix":"fas","data-icon":"bookmark",className:"bookmark-solid_svg__svg-inline--fa bookmark-solid_svg__fa-bookmark bookmark-solid_svg__fa-w-12",viewBox:"0 0 384 512"},e),i("path",{fill:"currentColor",d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"}))}},W6yM:function(e,t,a){"use strict";var n=a("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zM668 345.9L621.5 312 572 347.4V124h96v221.9z"}}]},name:"book",theme:"filled"},i=a("6VBw"),o=function(e,t){return n.createElement(i.a,Object.assign({},e,{ref:t,icon:r}))};o.displayName="BookFilled";t.a=n.forwardRef(o)},im0w:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),r=a.n(n),i=a("HaE+"),o=a("q1tI"),c=a.n(o),s=a("/MKj"),l=a("xQNW"),u=a("jBY8"),d=a("vDqi"),f=a.n(d),v=a("cr+I"),p=a.n(v),b=a("rOcY"),m="".concat(b.a,"/api/event"),g={addEvent:function(){var e=Object(i.a)(r.a.mark((function e(t,a,n,i){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post(m,{userId:t,sub:a,subId:n,type:i});case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),getEvent:function(){var e=Object(i.a)(r.a.mark((function e(t,a,n,i){var o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.a.stringify({sub:t,subId:a,userId:n,type:i}),e.next=3,f.a.get("".concat(m,"/?").concat(o));case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),deleteEvent:function(){var e=Object(i.a)(r.a.mark((function e(t,a,n,i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete(m,{params:{sub:t,subId:a,userId:n,type:i}});case 2:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},h=a("ye7r"),y=a("0lvd"),x=a("HNwB"),w=a("xwfA"),O=a("tsqr"),_=c.a.createElement,j=new Date,k=j.getFullYear()%2e3,M=1===(j.getMonth()<6?2:1)?k+1:k,S={text:"",ratingIds:[],workload:10,semesterTaken:"",acadYearTaken:"".concat(M-1,"/").concat(M)},C=function(e){var t=e.code,a=e.module,n=e.updateReviews,c=e.updateModule,l=e.isModalVisible,d=e.setModalVisibility,f=e.reviewByUser,v=e.ratingsByUser,p=null!==f&&void 0!==f?f:S,b=Object(o.useState)(p.text),m=b[0],g=b[1],j=Object(o.useState)(3),k=j[0],M=j[1],C=Object(o.useState)(3),I=C[0],z=C[1],V=Object(o.useState)(p.semesterTaken),B=V[0],E=V[1],R=Object(o.useState)(p.acadYearTaken),P=R[0],D=R[1],L=Object(s.c)((function(e){var t;return null===(t=e.auth.user)||void 0===t?void 0:t._id}));console.log(a),Object(o.useEffect)((function(){var e=null===f||void 0===f?void 0:f.ratingIds;(null===e||void 0===e?void 0:e.length)>0&&Object(h.a)(e,z,M)}),[]),Object(o.useEffect)((function(){f&&(g(f.text),E(f.semesterTaken),D(f.acadYearTaken))}),[f]);var N=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H()){e.next=3;break}return O.b.error("You need to fill in all fields!"),e.abrupt("return");case 3:if(t={text:m,semesterTaken:B,acadYearTaken:P,modId:a._id,userId:L,ratings:[{type:"difficulty",value:k},{type:"star",value:I}]},!f){e.next=10;break}return e.next=7,u.a.updateReviewOfModule(t,f._id);case 7:n(),e.next=15;break;case 10:if(!v){e.next=13;break}return e.next=13,u.a.deleteRating(v._id);case 13:return e.next=15,u.a.addReviewOfModule(t);case 15:d(!1),n(),c();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){return 0!==I&&0!==k&&""!==m.trim()};return _(y.a,{backgroundColor:w.h,submitColor:w.i,title:"".concat(f?"Edit":"Add"," Review"),isModalVisible:l,setModalVisibility:function(e){d(e)},onSubmit:N},_(x.a,{label:"Module Code",type:"text",value:t}),_(x.a,{label:"Review",type:"textarea",value:m,setValue:g}),_(x.a,{label:"Year Taken",type:"annualYear",value:P,setValue:D}),_(x.a,{label:"Semester Taken",type:"semester",value:B,options:a.semester,setValue:E}),_(x.a,{label:"Difficulty",type:"difficulty",value:k,setValue:M}),_(x.a,{label:"Ratings",type:"rate",value:I,setValue:z}))},I=c.a.createElement,z=function(e){var t,a=e.code,n=e.modId,c=e.ratingsByUser,l=e.isModalVisible,d=e.setModalVisibility,f=e.updateModule,v=e.checkIsRatedByUser,p=Object(s.c)((function(e){var t;return null===(t=e.auth.user)||void 0===t?void 0:t._id})),b=Object(o.useState)(null!==(t=null===c||void 0===c?void 0:c.value)&&void 0!==t?t:3),m=b[0],g=b[1],h=Object(o.useState)("Submit"),_=h[0],j=h[1],k=Object(o.useState)(w.i),M=k[0],S=k[1];Object(o.useEffect)((function(){var e;g(null!==(e=null===c||void 0===c?void 0:c.value)&&void 0!==e?e:0)}),[c]);var C=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z()){e.next=3;break}return O.b.error("You need to rate the module first!"),e.abrupt("return");case 3:if(!c){e.next=8;break}return e.next=6,u.a.updateRating(m,"star",p,n,"mod",c._id);case 6:e.next=10;break;case 8:return e.next=10,u.a.addRating(m,"star",p,n,"mod");case 10:v(),f(),d(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){return 0!==m};return I(y.a,{backgroundColor:w.h,submitColor:M,title:"Rate the Module",isModalVisible:l,setModalVisibility:function(e){d(e),S(w.i),j("Submit")},onSubmit:C,submitText:_},I(x.a,{label:"Module Code",type:"text",value:a}),I(x.a,{label:"Ratings",type:"rate",value:m,setValue:g}))},V=a("BvKs"),B=a("jsC+"),E=a("8Skl"),R=a("rePB"),P=a("elgY"),D=a("yRN5"),L=a("+J/R"),N=c.a.createElement;function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(Object(a),!0).forEach((function(t){Object(R.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T={container:{display:"flex",marginLeft:20,padding:"10px 0px"},iconContainer:{display:"flex",justifyContent:"center",width:26},text:{marginLeft:10,color:"#838383",textOverflow:"ellipsis"}},A=function(e){var t=e.Icon,a=e.text,n=e.iconStyle;return N("div",{style:T.container},N("div",{style:T.iconContainer},N(t,{style:q({height:20},n)})),N("span",{style:T.text},a))},Y=a("wx14"),F=c.a.createElement;var U=function(e){return F("svg",Object(Y.a)({"aria-hidden":"true","data-prefix":"fas","data-icon":"user-clock",className:"user-clock-solid_svg__svg-inline--fa user-clock-solid_svg__fa-user-clock user-clock-solid_svg__fa-w-20",viewBox:"0 0 640 512"},e),F("path",{fill:"currentColor",d:"M496 224c-79.6 0-144 64.4-144 144s64.4 144 144 144 144-64.4 144-144-64.4-144-144-144zm64 150.3c0 5.3-4.4 9.7-9.7 9.7h-60.6c-5.3 0-9.7-4.4-9.7-9.7v-76.6c0-5.3 4.4-9.7 9.7-9.7h12.6c5.3 0 9.7 4.4 9.7 9.7V352h38.3c5.3 0 9.7 4.4 9.7 9.7v12.6zM320 368c0-27.8 6.7-54.1 18.2-77.5-8-1.5-16.2-2.5-24.6-2.5h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h347.1c-45.3-31.9-75.1-84.5-75.1-144zm-96-112c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128z"}))},W=c.a.createElement;var Q=function(e){return W("svg",Object(Y.a)({"aria-hidden":"true","data-prefix":"fas","data-icon":"coins",className:"coins-solid_svg__svg-inline--fa coins-solid_svg__fa-coins coins-solid_svg__fa-w-16",viewBox:"0 0 512 512"},e),W("path",{fill:"currentColor",d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"}))},K=c.a.createElement;var J=function(e){return K("svg",Object(Y.a)({"aria-hidden":"true","data-prefix":"fas","data-icon":"hourglass-half",className:"hourglass-half-solid_svg__svg-inline--fa hourglass-half-solid_svg__fa-hourglass-half hourglass-half-solid_svg__fa-w-12",viewBox:"0 0 384 512"},e),K("path",{fill:"currentColor",d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"}))},X=c.a.createElement;var G=function(e){return X("svg",Object(Y.a)({"aria-hidden":"true","data-prefix":"fas","data-icon":"layer-group",className:"layer-group-solid_svg__svg-inline--fa layer-group-solid_svg__fa-layer-group layer-group-solid_svg__fa-w-16",viewBox:"0 0 512 512"},e),X("path",{fill:"currentColor",d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 00-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"}))},Z=a("j1SK"),$=c.a.createElement;var ee=function(e){return $("svg",Object(Y.a)({"aria-hidden":"true","data-prefix":"fas","data-icon":"thumbs-up",className:"thumbs-up-solid_svg__svg-inline--fa thumbs-up-solid_svg__fa-thumbs-up thumbs-up-solid_svg__fa-w-16",viewBox:"0 0 512 512"},e),$("path",{fill:"currentColor",d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"}))},te=c.a.createElement,ae=function(e){return te("svg",Object(Y.a)({"aria-hidden":"true","data-prefix":"far","data-icon":"star",className:"star-regular_svg__svg-inline--fa star-regular_svg__fa-star star-regular_svg__fa-w-18",viewBox:"0 0 576 512"},e),te("path",{fill:"currentColor",d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"}))},ne=a("DwSS"),re=c.a.createElement;var ie=function(e){return re("svg",Object(Y.a)({"aria-hidden":"true","data-prefix":"fas","data-icon":"university",className:"university-solid_svg__svg-inline--fa university-solid_svg__fa-university university-solid_svg__fa-w-16",viewBox:"0 0 512 512"},e),re("path",{fill:"currentColor",d:"M496 128v16a8 8 0 01-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 01-8-8v-16a8 8 0 014.941-7.392l232-88a7.996 7.996 0 016.118 0l232 88A8 8 0 01496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 008 8h464a8 8 0 008-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"}))},oe=a("Q3Rx"),ce=c.a.createElement;var se=function(e){return ce("svg",Object(Y.a)({"aria-hidden":"true","data-prefix":"far","data-icon":"bookmark",className:"bookmark-regular_svg__svg-inline--fa bookmark-regular_svg__fa-bookmark bookmark-regular_svg__fa-w-12",viewBox:"0 0 384 512"},e),ce("path",{fill:"currentColor",d:"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 016-6h276c3.314 0 6 2.683 6 5.996V428.43z"}))},le=c.a.createElement;var ue=function(e){return le("svg",Object(Y.a)({"aria-hidden":"true","data-prefix":"far","data-icon":"check-square",className:"check-square-regular_svg__svg-inline--fa check-square-regular_svg__fa-check-square check-square-regular_svg__fa-w-14",viewBox:"0 0 448 512"},e),le("path",{fill:"currentColor",d:"M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm0 400H48V80h352v352zm-35.864-241.724L191.547 361.48c-4.705 4.667-12.303 4.637-16.97-.068l-90.781-91.516c-4.667-4.705-4.637-12.303.069-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l59.792 60.277 141.352-140.216c4.705-4.667 12.303-4.637 16.97.068l22.536 22.718c4.667 4.706 4.637 12.304-.068 16.971z"}))},de=a("W6yM"),fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"},ve=a("6VBw"),pe=function(e,t){return o.createElement(ve.a,Object.assign({},e,{ref:t,icon:fe}))};pe.displayName="BookOutlined";var be=o.forwardRef(pe),me=o.createElement;var ge=function(e){return me("svg",Object(Y.a)({height:"484pt",viewBox:"-15 -15 484 484",width:"484pt"},e),me("path",{d:"M401.648 18.234c-24.394-24.351-63.898-24.351-88.293 0l-22.101 22.223-235.27 235.145-.5.503c-.12.122-.12.25-.25.25-.25.375-.625.747-.87 1.122 0 .125-.13.125-.13.25-.25.375-.37.625-.625 1-.12.125-.12.246-.246.375-.125.375-.25.625-.379 1 0 .12-.12.12-.12.25L.663 437.32a12.288 12.288 0 002.996 12.735 12.564 12.564 0 008.867 3.625c1.356-.024 2.7-.235 3.996-.625l156.848-52.325c.121 0 .121 0 .25-.12a4.523 4.523 0 001.121-.505.443.443 0 00.254-.12c.371-.25.871-.505 1.246-.755.371-.246.75-.62 1.125-.87.125-.13.246-.13.246-.25.13-.126.38-.247.504-.5l257.371-257.372c24.352-24.394 24.352-63.898 0-88.289zM169.375 371.383l-86.914-86.91L299.996 66.938l86.914 86.91zm-99.156-63.809l75.93 75.926-114.016 37.96zm347.664-184.82l-13.238 13.363L317.727 49.2l13.367-13.36c14.62-14.609 38.32-14.609 52.945 0l33.965 33.966c14.512 14.687 14.457 38.332-.121 52.949zm0 0"}))},he=o.createElement;var ye=function(e){return he("svg",Object(Y.a)({height:"325pt",viewBox:"0 0 325 325.375",width:"325pt"},e),he("path",{d:"M114.688 284.676l-73.801-73.801 178.5-178.5 73.8 73.8zm-80.7-60.801l67.7 67.7-101.5 33.8zm281.899-140.3l-12.801 12.8-73.899-73.898 12.801-12.801c12.895-12.903 33.805-12.903 46.7 0l27.199 27.199c12.8 12.937 12.8 33.766 0 46.7zm0 0"}))},xe=a("xQut"),we=c.a.createElement,Oe=function(e){var t=e.userId,a=e.modId,n=e.plannedModId,c=e.isModalVisible,s=e.setModalVisibility,l=Object(o.useState)(1),u=l[0],d=l[1],f=Object(o.useState)(1),v=f[0],p=f[1],b=function(){var e=Object(i.a)(r.a.mark((function e(){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=2*(u-1)+v,!n){e.next=6;break}return e.next=4,D.a.updatePlannedMod(n,t,a,i);case 4:e.next=8;break;case 6:return e.next=8,D.a.addPlannedMod(t,a,i);case 8:Object(h.e)(t),s(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return we(y.a,{title:"Add to Study Planner",backgroundColor:w.f,isModalVisible:c,setModalVisibility:s,submitColor:w.i,onSubmit:b},we(x.a,{label:"Year",type:"year",value:u,setValue:d}),we(x.a,{label:"Semester",type:"semester",value:v,setValue:p}))},_e=c.a.createElement;function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(Object(a),!0).forEach((function(t){Object(R.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Me={container:{fontFamily:"Roboto",marginTop:30},moduleMeta:{display:"flex",justifyContent:"space-between",alignItems:"center",height:80},moduleInformation:{display:"flex",justifyContent:"flex-start"},moduleCode:{backgroundColor:w.a,height:80,borderRadius:12,display:"flex",justifyContent:"center",alignItems:"center",fontSize:"26px",color:"white",padding:"0px 30px",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"},moduleSmallDetailsColumn:{display:"flex",flexDirection:"column",justifyContent:"space-between"},actionsBar:{display:"flex"},actionIcon:{height:25,margin:"0px 10px"},infoContainer:{backgroundColor:w.e,marginTop:10,borderRadius:15,padding:"20px 30px 30px 30px",color:"#fff",boxShadow:"0px 8px 8px rgba(0, 0, 0, 0.25)"},moduleTitle:{fontSize:30,fontWeight:"bold"},moduleDescription:{textAlign:"justify",fontWeight:300},iconStyle:{color:"#B9B9B9"}},Se=function(e){var t,a,n,c,l,u,d,f,v=e.module,p=e.setAddReviewModalVisibility,b=e.setAddRatingsModalVisibility,m=e.reviewByUser,g=e.updateModule,y=Object(o.useState)(!1),x=y[0],_=y[1],j=Object(o.useState)(""),k=j[0],M=j[1],S=Object(s.c)((function(e){var t;return null===(t=e.auth.user)||void 0===t?void 0:t._id})),C=null===(t=Object(s.c)((function(e){return e.personalModules.bookmarks})).find((function(e){return e.modId===(null===v||void 0===v?void 0:v._id)})))||void 0===t?void 0:t._id,I=null===(a=Object(s.c)((function(e){return e.personalModules.plannedMods})).find((function(e){return e.modId===(null===v||void 0===v?void 0:v._id)})))||void 0===a?void 0:a._id,z=Object(s.c)((function(e){return e.schools})),V=Object(s.c)((function(e){return e.auth.isLoggedIn})),B=v.code,E=v.workload,R=void 0===E?10:E,N=v.rating,H=v.schoolId,q=v.description,T=v.title,Y=v.credit,F=void 0===Y?4:Y,W=v.semester,K=void 0===W?[1,2]:W,X=v.prereqs,$=v._id,te=null===(n=z.find((function(e){return e._id===H})))||void 0===n?void 0:n.name,re=(null===N||void 0===N?void 0:null===(c=N.difficulty)||void 0===c?void 0:c.value)||0,ce=(null===N||void 0===N?void 0:null===(l=N.star)||void 0===l?void 0:l.value)||0;Object(o.useEffect)((function(){le()}),[S]);var le=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.getReaction("mod",v._id,S,"like");case 3:t=e.sent,M(t._id),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),M("");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=3;break}return Object(h.b)(),e.abrupt("return");case 3:if(C){e.next=8;break}return e.next=6,P.a.addBookmark(S,$);case 6:e.next=10;break;case 8:return e.next=10,P.a.deleteBookmark(C);case 10:Object(h.c)(S);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=3;break}return Object(h.b)(),e.abrupt("return");case 3:if(I){e.next=7;break}_(!0),e.next=10;break;case 7:return e.next=9,D.a.removePlannedMod(I);case 9:Object(h.e)(S);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=3;break}return Object(h.b)(),e.abrupt("return");case 3:if(!k){e.next=8;break}return e.next=6,L.a.deleteReaction(k);case 6:e.next=10;break;case 8:return e.next=10,L.a.addReaction("mod",v._id,S,"like");case 10:le(),g();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return _e("div",{style:Me.container},_e("div",{style:Me.moduleMeta},_e("div",{style:Me.moduleInformation},_e("div",{style:Me.moduleCode},B),_e("div",{style:Me.moduleSmallDetailsColumn},_e(A,{Icon:ie,text:"University: ".concat(null!==te&&void 0!==te?te:"-"),iconStyle:Me.iconStyle}),_e(A,{Icon:J,text:"Semester(s) offered: ".concat(K.sort().join(", ")||"-"),iconStyle:Me.iconStyle})),_e("div",{style:Me.moduleSmallDetailsColumn},_e(A,{Icon:Q,text:"Credit: ".concat(F),iconStyle:Me.iconStyle}),_e(A,{Icon:U,text:"Workload/Week: ".concat(R," hours"),iconStyle:Me.iconStyle})),_e("div",{style:Me.moduleSmallDetailsColumn},_e(A,{Icon:ue,text:"Pre-reqs: ".concat(X.join(", ")||"None"),iconStyle:Me.iconStyle}),_e(A,{Icon:G,text:"Difficulty: ".concat("0.0"==re.toFixed(1)?"-":re.toFixed(1),"/5"),iconStyle:Me.iconStyle}))),_e("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignContent:"center",height:"100%",fontSize:14}},_e("div",{style:{display:"flex",justifyContent:"flex-end",padding:"10px 10px 10px 0px",width:"100%",color:"#838383"}},_e("div",{style:{marginRight:10}},_e(ee,{style:{height:20,color:w.a,margin:"0px 10px",position:"relative",bottom:-2}}),"".concat(null!==(u=null===(d=v.reaction)||void 0===d?void 0:null===(f=d.like)||void 0===f?void 0:f.count)&&void 0!==u?u:0)),_e("div",null,_e(Z.a,{style:{height:20,color:w.g,margin:"0px 10px",position:"relative",bottom:-2}}),"".concat(ce.toFixed(1)))),_e("div",{style:Me.actionsBar},_e(xe.a,{onClick:pe},_e(k?ee:ne.a,{style:ke(ke({},Me.actionIcon),{},{color:w.a,fontSize:25})})),_e(xe.a,{onClick:ve},_e(I?de.a:be,{style:ke(ke({},Me.actionIcon),{},{color:"#76CCB7",fontSize:25})})),_e(xe.a,{onClick:fe},_e(C?oe.a:se,{style:ke(ke({},Me.actionIcon),{},{color:"#289FA7"})})),_e(xe.a,{onClick:function(){V?m?O.b.error("You have posted a Review before. Edit your Review instead!"):b(!0):Object(h.b)()}},_e(ae,{style:ke(ke({},Me.actionIcon),{},{color:w.g})})),_e(xe.a,{onClick:function(){V?p(!0):Object(h.b)()}},_e(m?ye:ge,{style:ke(ke({},Me.actionIcon),{},{width:25,fill:w.h})}))))),_e("div",{style:Me.infoContainer},_e("div",{style:Me.moduleTitle},T),_e("div",{style:Me.moduleDescription},q)),_e(Oe,{isModalVisible:x,setModalVisibility:_,modId:$,userId:S,plannedModId:I}))},Ce=a("zmtl"),Ie=a("3Pwz"),ze=c.a.createElement,Ve=function(e,t){return new Date(e.createdAt)<new Date(t.createdAt)?1:-1},Be=function(e){var t=e.initialModule,a=e.reviews,n=Object(o.useState)(t),d=n[0],f=n[1],v=Object(o.useState)(a),p=v[0],b=v[1],m=Object(o.useState)(20),h=m[0],y=m[1],x=Object(o.useState)(!1),w=x[0],O=x[1],_=Object(o.useState)(!1),j=_[0],k=_[1],M=Object(o.useState)(null),S=M[0],I=M[1],R=Object(o.useState)("Latest"),P=R[0],D=R[1],L=Object(s.c)((function(e){var t;return null===(t=e.auth.user)||void 0===t?void 0:t._id})),N=p.find((function(e){return e.userId===L}));Object(o.useEffect)((function(){T(),g.addEvent(L,"mod",d._id,"view")}),[]);var H=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.getReviewsOfModule(d._id);case 2:t=e.sent,"Latest"===P?t.sort(Ve):"Oldest"===P?t.sort(A):"Most Likes"===P&&t.sort(Y),b(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getModule(d._id);case 2:(t=e.sent).prereqs=d.prereqs,f(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.getRating("mod",d._id,L,"star");case 3:t=e.sent,I(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),I(null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(e,t){return new Date(e.createdAt)>new Date(t.createdAt)?1:-1},Y=function(e,t){var a,n,r,i,o,c,s=null!==(a=null===(n=e.reaction)||void 0===n?void 0:null===(r=n.like)||void 0===r?void 0:r.count)&&void 0!==a?a:0;return(null!==(i=null===(o=t.reaction)||void 0===o?void 0:null===(c=o.like)||void 0===c?void 0:c.count)&&void 0!==i?i:0)-s},F=function(e,t){D(t);var a=p.concat([]);a.sort(e),b(a)},U=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.getReviewsOfModule(d._id);case 2:t=e.sent,b(t),y(h+10);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=ze(V.a,null,ze(V.a.Item,null,ze(xe.a,{onClick:function(){return F(Ve,"Latest")}},"Latest")),ze(V.a.Item,null,ze(xe.a,{onClick:function(){return F(A,"Oldest")}},"Oldest")),ze(V.a.Item,null,ze(xe.a,{onClick:function(){return F(Y,"Most Likes")}},"Most Likes")));return d?ze(c.a.Fragment,null,ze(Se,{module:d,setAddReviewModalVisibility:O,setAddRatingsModalVisibility:k,reviewByUser:N,updateModule:q}),ze("div",{style:Ee.reviewsHeader},ze("span",{style:Ee.reviewsHeaderTitle},"Reviews"),ze(B.a,{overlay:W},ze("div",{style:{marginRight:20}},ze("a",{style:{color:"#595959",marginRight:6,fontSize:18}},P),ze(E.a,null)))),ze(Ce.a,{updateReviews:H,reviews:p}),p.length>=10&&ze(Ie.a,{fetchMoreData:U}),ze(C,{code:d.code,module:d,updateReviews:H,isModalVisible:w,setModalVisibility:O,reviewByUser:N,updateModule:q,ratingsByUser:S}),ze(z,{code:d.code,modId:d._id,isModalVisible:j,setModalVisibility:k,ratingsByUser:S,updateModule:q,checkIsRatedByUser:T})):ze("div",{style:Ee.moduleNotFoundPage},ze("span",{style:{}},"Module not found!"))},Ee={reviewsHeader:{height:"8vh",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0px 10px",fontFamily:"Mukta",color:"#838383"},reviewsHeaderTitle:{fontSize:"26px"},moduleNotFoundPage:{display:"flex",height:"80vh",width:"100%",justifyContent:"center",alignItems:"center"}};Be.getInitialProps=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n,o,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,n=a.id,e.prev=2,e.next=5,l.a.getModule(n);case 5:return o=e.sent,e.next=8,Promise.all(o.prereqs.map(function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getModule(t);case 2:return a=e.sent,e.abrupt("return",a.code);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return c=e.sent,o.prereqs=c,e.next=12,u.a.getReviewsOfModule(o._id,10);case 12:return(s=e.sent).sort(Ve),e.abrupt("return",{initialModule:o,reviews:s});case 17:return e.prev=17,e.t0=e.catch(2),e.abrupt("return",{initialModule:null,reviews:[]});case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();t.default=Be},j1SK:function(e,t,a){"use strict";var n=a("wx14"),r=a("q1tI"),i=a.n(r).a.createElement;t.a=function(e){return i("svg",Object(n.a)({"aria-hidden":"true","data-prefix":"fas","data-icon":"star",className:"star-solid_svg__svg-inline--fa star-solid_svg__fa-star star-solid_svg__fa-w-18",viewBox:"0 0 576 512"},e),i("path",{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}))}},y71F:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/module-review",function(){return a("im0w")}])}},[["y71F",1,2,0,4,5,7,6,10,9,12,8]]]);